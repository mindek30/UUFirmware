ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"EKM_Modbus.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.EKM_MODBUS_Setup,"ax",%progbits
  18              		.align	1
  19              		.global	EKM_MODBUS_Setup
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	EKM_MODBUS_Setup:
  27              	.LVL0:
  28              	.LFB3:
  29              		.file 1 "../02_OS/EKM_Modbus/EKM_Modbus.c"
   1:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*
   2:../02_OS/EKM_Modbus/EKM_Modbus.c ****  * EKM_Buffer.c
   3:../02_OS/EKM_Modbus/EKM_Modbus.c ****  *
   4:../02_OS/EKM_Modbus/EKM_Modbus.c ****  *  Created on: Jan 14, 2020
   5:../02_OS/EKM_Modbus/EKM_Modbus.c ****  *      Author: Eakawit
   6:../02_OS/EKM_Modbus/EKM_Modbus.c ****  *      Email: mindek30@gmail.com
   7:../02_OS/EKM_Modbus/EKM_Modbus.c ****  *
   8:../02_OS/EKM_Modbus/EKM_Modbus.c ****  */
   9:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  10:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  11:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  12:../02_OS/EKM_Modbus/EKM_Modbus.c **** * INCLUDE
  13:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  14:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  15:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include <stdio.h>
  16:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include <stdarg.h>
  17:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include <stdint.h>
  18:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include <stdbool.h>
  19:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include <string.h>
  20:../02_OS/EKM_Modbus/EKM_Modbus.c **** #include "EKM_Modbus.h"
  21:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  22:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  23:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  24:../02_OS/EKM_Modbus/EKM_Modbus.c **** * DEFINE
  25:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  26:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  27:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  28:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  29:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 2


  30:../02_OS/EKM_Modbus/EKM_Modbus.c **** * GOBAL VARIABLE
  31:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  32:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  33:../02_OS/EKM_Modbus/EKM_Modbus.c **** /////////////////////////////////// Modbus SESSION //////////////////////////////////
  34:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_Setup(EKM_MODBUS_t *pdata, uint8_t *Moddata, uint8_t maxsize);
  35:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_DataClear(EKM_MODBUS_t *pdata);
  36:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_Receiver_Set(EKM_MODBUS_t *pdata, uint8_t dat);
  37:../02_OS/EKM_Modbus/EKM_Modbus.c **** uint16_t EKM_MODBUS_CRC_Encode(EKM_MODBUS_t *pdata);
  38:../02_OS/EKM_Modbus/EKM_Modbus.c **** uint8_t EKM_MODBUS_CRC_Decode(EKM_MODBUS_t *pdata);
  39:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  40:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  41:../02_OS/EKM_Modbus/EKM_Modbus.c **** * PRIVATE VARIABLE
  42:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  43:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  44:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  45:../02_OS/EKM_Modbus/EKM_Modbus.c **** /////////////////////////////////// Modbus SESSION //////////////////////////////////
  46:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  47:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  48:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_Setup
  49:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  50:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
  51:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
  52:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  53:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
  54:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  55:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
  56:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  57:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_Setup(EKM_MODBUS_t *pdata, uint8_t *Moddata, uint8_t maxsize)
  58:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
  30              		.loc 1 58 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		@ link register save eliminated.
  59:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->len = 0;
  35              		.loc 1 59 3 view .LVU1
  36              		.loc 1 59 14 is_stmt 0 view .LVU2
  37 0000 0023     		movs	r3, #0
  38 0002 0370     		strb	r3, [r0]
  60:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->Maxsize = maxsize;
  39              		.loc 1 60 3 is_stmt 1 view .LVU3
  40              		.loc 1 60 18 is_stmt 0 view .LVU4
  41 0004 4270     		strb	r2, [r0, #1]
  61:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->MODdata = Moddata;
  42              		.loc 1 61 3 is_stmt 1 view .LVU5
  43              		.loc 1 61 18 is_stmt 0 view .LVU6
  44 0006 4160     		str	r1, [r0, #4]
  62:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->crc = 0;
  45              		.loc 1 62 3 is_stmt 1 view .LVU7
  46              		.loc 1 62 14 is_stmt 0 view .LVU8
  47 0008 0381     		strh	r3, [r0, #8]	@ movhi
  63:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
  48              		.loc 1 63 1 view .LVU9
  49 000a 7047     		bx	lr
  50              		.cfi_endproc
  51              	.LFE3:
  53              		.section	.text.EKM_MODBUS_DataClear,"ax",%progbits
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 3


  54              		.align	1
  55              		.global	EKM_MODBUS_DataClear
  56              		.syntax unified
  57              		.thumb
  58              		.thumb_func
  59              		.fpu fpv4-sp-d16
  61              	EKM_MODBUS_DataClear:
  62              	.LVL1:
  63              	.LFB4:
  64:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  65:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  66:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_DataClear
  67:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  68:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
  69:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
  70:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  71:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
  72:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  73:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
  74:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  75:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_DataClear(EKM_MODBUS_t *pdata)
  76:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
  64              		.loc 1 76 1 is_stmt 1 view -0
  65              		.cfi_startproc
  66              		@ args = 0, pretend = 0, frame = 0
  67              		@ frame_needed = 0, uses_anonymous_args = 0
  68              		@ link register save eliminated.
  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  69              		.loc 1 77 3 view .LVU11
  70              	.LBB2:
  71              		.loc 1 77 8 view .LVU12
  72              		.loc 1 77 12 is_stmt 0 view .LVU13
  73 0000 0023     		movs	r3, #0
  74              		.loc 1 77 3 view .LVU14
  75 0002 03E0     		b	.L3
  76              	.LVL2:
  77              	.L4:
  78:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
  79:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[c] = 0;
  78              		.loc 1 79 5 is_stmt 1 discriminator 3 view .LVU15
  79              		.loc 1 79 10 is_stmt 0 discriminator 3 view .LVU16
  80 0004 4268     		ldr	r2, [r0, #4]
  81              		.loc 1 79 23 discriminator 3 view .LVU17
  82 0006 0021     		movs	r1, #0
  83 0008 D154     		strb	r1, [r2, r3]
  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  84              		.loc 1 77 39 is_stmt 1 discriminator 3 view .LVU18
  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  85              		.loc 1 77 40 is_stmt 0 discriminator 3 view .LVU19
  86 000a 0133     		adds	r3, r3, #1
  87              	.LVL3:
  88              	.L3:
  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  89              		.loc 1 77 19 is_stmt 1 discriminator 1 view .LVU20
  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  90              		.loc 1 77 28 is_stmt 0 discriminator 1 view .LVU21
  91 000c 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 4


  77:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (int c = 0; c < pdata->Maxsize; c++)
  92              		.loc 1 77 3 discriminator 1 view .LVU22
  93 000e 9A42     		cmp	r2, r3
  94 0010 F8DC     		bgt	.L4
  95              	.LBE2:
  80:../02_OS/EKM_Modbus/EKM_Modbus.c ****   }
  81:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->len = 0;
  96              		.loc 1 81 3 is_stmt 1 view .LVU23
  97              		.loc 1 81 14 is_stmt 0 view .LVU24
  98 0012 0023     		movs	r3, #0
  99              	.LVL4:
 100              		.loc 1 81 14 view .LVU25
 101 0014 0370     		strb	r3, [r0]
  82:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->crc = 0;
 102              		.loc 1 82 3 is_stmt 1 view .LVU26
 103              		.loc 1 82 14 is_stmt 0 view .LVU27
 104 0016 0381     		strh	r3, [r0, #8]	@ movhi
  83:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 105              		.loc 1 83 1 view .LVU28
 106 0018 7047     		bx	lr
 107              		.cfi_endproc
 108              	.LFE4:
 110              		.section	.text.EKM_MODBUS_Receiver_Set,"ax",%progbits
 111              		.align	1
 112              		.global	EKM_MODBUS_Receiver_Set
 113              		.syntax unified
 114              		.thumb
 115              		.thumb_func
 116              		.fpu fpv4-sp-d16
 118              	EKM_MODBUS_Receiver_Set:
 119              	.LVL5:
 120              	.LFB5:
  84:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
  85:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
  86:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_Receiver_Set
  87:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  88:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
  89:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
  90:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  91:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
  92:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
  93:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
  94:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
  95:../02_OS/EKM_Modbus/EKM_Modbus.c **** void EKM_MODBUS_Receiver_Set(EKM_MODBUS_t *pdata, uint8_t dat)
  96:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
 121              		.loc 1 96 1 is_stmt 1 view -0
 122              		.cfi_startproc
 123              		@ args = 0, pretend = 0, frame = 0
 124              		@ frame_needed = 0, uses_anonymous_args = 0
 125              		@ link register save eliminated.
  97:../02_OS/EKM_Modbus/EKM_Modbus.c ****   if (pdata->len < pdata->Maxsize)
 126              		.loc 1 97 3 view .LVU30
 127              		.loc 1 97 12 is_stmt 0 view .LVU31
 128 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 129              		.loc 1 97 25 view .LVU32
 130 0002 4278     		ldrb	r2, [r0, #1]	@ zero_extendqisi2
 131              		.loc 1 97 6 view .LVU33
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 5


 132 0004 9342     		cmp	r3, r2
 133 0006 05D2     		bcs	.L5
  98:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
  99:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[pdata->len++] = dat;
 134              		.loc 1 99 5 is_stmt 1 view .LVU34
 135              		.loc 1 99 10 is_stmt 0 view .LVU35
 136 0008 4268     		ldr	r2, [r0, #4]
 137              		.loc 1 99 30 view .LVU36
 138 000a 03F1010C 		add	ip, r3, #1
 139 000e 80F800C0 		strb	ip, [r0]
 140              		.loc 1 99 34 view .LVU37
 141 0012 D154     		strb	r1, [r2, r3]
 142              	.L5:
 100:../02_OS/EKM_Modbus/EKM_Modbus.c ****   }
 101:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 143              		.loc 1 101 1 view .LVU38
 144 0014 7047     		bx	lr
 145              		.cfi_endproc
 146              	.LFE5:
 148              		.section	.text.EKM_MODBUS_Receiver_Get,"ax",%progbits
 149              		.align	1
 150              		.global	EKM_MODBUS_Receiver_Get
 151              		.syntax unified
 152              		.thumb
 153              		.thumb_func
 154              		.fpu fpv4-sp-d16
 156              	EKM_MODBUS_Receiver_Get:
 157              	.LVL6:
 158              	.LFB6:
 102:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 103:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
 104:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_Receiver_Get
 105:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 106:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
 107:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
 108:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 109:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
 110:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 111:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
 112:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
 113:../02_OS/EKM_Modbus/EKM_Modbus.c **** uint8_t EKM_MODBUS_Receiver_Get(EKM_MODBUS_t *pdata)
 114:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
 159              		.loc 1 114 1 is_stmt 1 view -0
 160              		.cfi_startproc
 161              		@ args = 0, pretend = 0, frame = 0
 162              		@ frame_needed = 0, uses_anonymous_args = 0
 163              		@ link register save eliminated.
 115:../02_OS/EKM_Modbus/EKM_Modbus.c ****   uint8_t tmp;
 164              		.loc 1 115 3 view .LVU40
 116:../02_OS/EKM_Modbus/EKM_Modbus.c ****   if (pdata->len >0)
 165              		.loc 1 116 3 view .LVU41
 166              		.loc 1 116 12 is_stmt 0 view .LVU42
 167 0000 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 168              		.loc 1 116 6 view .LVU43
 169 0002 0BB9     		cbnz	r3, .L10
 117:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 118:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->len--;
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 6


 119:../02_OS/EKM_Modbus/EKM_Modbus.c ****     tmp = pdata->MODdata[pdata->len];
 120:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[pdata->len] = 0;
 121:../02_OS/EKM_Modbus/EKM_Modbus.c ****     return tmp;
 122:../02_OS/EKM_Modbus/EKM_Modbus.c ****     
 123:../02_OS/EKM_Modbus/EKM_Modbus.c ****   }
 124:../02_OS/EKM_Modbus/EKM_Modbus.c ****   return 0xFF;
 170              		.loc 1 124 10 view .LVU44
 171 0004 FF20     		movs	r0, #255
 172              	.LVL7:
 125:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 173              		.loc 1 125 1 view .LVU45
 174 0006 7047     		bx	lr
 175              	.LVL8:
 176              	.L10:
 118:../02_OS/EKM_Modbus/EKM_Modbus.c ****     tmp = pdata->MODdata[pdata->len];
 177              		.loc 1 118 5 is_stmt 1 view .LVU46
 118:../02_OS/EKM_Modbus/EKM_Modbus.c ****     tmp = pdata->MODdata[pdata->len];
 178              		.loc 1 118 15 is_stmt 0 view .LVU47
 179 0008 013B     		subs	r3, r3, #1
 180 000a DBB2     		uxtb	r3, r3
 181 000c 0370     		strb	r3, [r0]
 119:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[pdata->len] = 0;
 182              		.loc 1 119 5 is_stmt 1 view .LVU48
 119:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[pdata->len] = 0;
 183              		.loc 1 119 16 is_stmt 0 view .LVU49
 184 000e 4268     		ldr	r2, [r0, #4]
 119:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->MODdata[pdata->len] = 0;
 185              		.loc 1 119 9 view .LVU50
 186 0010 D05C     		ldrb	r0, [r2, r3]	@ zero_extendqisi2
 187              	.LVL9:
 120:../02_OS/EKM_Modbus/EKM_Modbus.c ****     return tmp;
 188              		.loc 1 120 5 is_stmt 1 view .LVU51
 120:../02_OS/EKM_Modbus/EKM_Modbus.c ****     return tmp;
 189              		.loc 1 120 32 is_stmt 0 view .LVU52
 190 0012 0021     		movs	r1, #0
 191 0014 D154     		strb	r1, [r2, r3]
 121:../02_OS/EKM_Modbus/EKM_Modbus.c ****     
 192              		.loc 1 121 5 is_stmt 1 view .LVU53
 121:../02_OS/EKM_Modbus/EKM_Modbus.c ****     
 193              		.loc 1 121 12 is_stmt 0 view .LVU54
 194 0016 7047     		bx	lr
 195              		.cfi_endproc
 196              	.LFE6:
 198              		.section	.text.EKM_MODBUS_CRC_Encode,"ax",%progbits
 199              		.align	1
 200              		.global	EKM_MODBUS_CRC_Encode
 201              		.syntax unified
 202              		.thumb
 203              		.thumb_func
 204              		.fpu fpv4-sp-d16
 206              	EKM_MODBUS_CRC_Encode:
 207              	.LVL10:
 208              	.LFB7:
 126:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
 127:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_CRC_Encode
 128:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 129:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 7


 130:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
 131:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 132:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
 133:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 134:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
 135:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
 136:../02_OS/EKM_Modbus/EKM_Modbus.c **** uint16_t EKM_MODBUS_CRC_Encode(EKM_MODBUS_t *pdata)
 137:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
 209              		.loc 1 137 1 is_stmt 1 view -0
 210              		.cfi_startproc
 211              		@ args = 0, pretend = 0, frame = 0
 212              		@ frame_needed = 0, uses_anonymous_args = 0
 213              		@ link register save eliminated.
 138:../02_OS/EKM_Modbus/EKM_Modbus.c ****   uint8_t pos = 0;
 214              		.loc 1 138 3 view .LVU56
 139:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->crc = 0xFFFF;
 215              		.loc 1 139 3 view .LVU57
 216              		.loc 1 139 14 is_stmt 0 view .LVU58
 217 0000 4FF6FF73 		movw	r3, #65535
 218 0004 0381     		strh	r3, [r0, #8]	@ movhi
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (pos = 0; pos < pdata->len; pos++)
 219              		.loc 1 140 3 is_stmt 1 view .LVU59
 220              		.loc 1 140 12 is_stmt 0 view .LVU60
 221 0006 0021     		movs	r1, #0
 222              		.loc 1 140 3 view .LVU61
 223 0008 11E0     		b	.L12
 224              	.LVL11:
 225              	.L14:
 226              	.LBB3:
 141:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 142:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->crc ^= (uint16_t)pdata->MODdata[pos]; // XOR byte into least sig. byte of crc
 143:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     for (int i = 8; i != 0; i--)
 145:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 146:../02_OS/EKM_Modbus/EKM_Modbus.c ****       if ((pdata->crc & 0x0001) != 0)
 147:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {                   // If the LSB is set
 148:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc >>= 1; // Shift right and XOR 0xA001
 149:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 150:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 151:../02_OS/EKM_Modbus/EKM_Modbus.c ****       else                // Else LSB is not set
 152:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc >>= 1; // Just shift right
 227              		.loc 1 152 9 is_stmt 1 view .LVU62
 228              		.loc 1 152 20 is_stmt 0 view .LVU63
 229 000a 5B08     		lsrs	r3, r3, #1
 230 000c 0381     		strh	r3, [r0, #8]	@ movhi
 231              	.L15:
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 232              		.loc 1 144 29 is_stmt 1 discriminator 2 view .LVU64
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 233              		.loc 1 144 30 is_stmt 0 discriminator 2 view .LVU65
 234 000e 013A     		subs	r2, r2, #1
 235              	.LVL12:
 236              	.L13:
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 237              		.loc 1 144 21 is_stmt 1 discriminator 1 view .LVU66
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 238              		.loc 1 144 5 is_stmt 0 discriminator 1 view .LVU67
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 8


 239 0010 5AB1     		cbz	r2, .L18
 146:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {                   // If the LSB is set
 240              		.loc 1 146 7 is_stmt 1 view .LVU68
 146:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {                   // If the LSB is set
 241              		.loc 1 146 17 is_stmt 0 view .LVU69
 242 0012 0389     		ldrh	r3, [r0, #8]
 146:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {                   // If the LSB is set
 243              		.loc 1 146 10 view .LVU70
 244 0014 13F0010F 		tst	r3, #1
 245 0018 F7D0     		beq	.L14
 148:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 246              		.loc 1 148 9 is_stmt 1 view .LVU71
 148:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 247              		.loc 1 148 20 is_stmt 0 view .LVU72
 248 001a 5B08     		lsrs	r3, r3, #1
 249 001c 0381     		strh	r3, [r0, #8]	@ movhi
 149:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 250              		.loc 1 149 9 is_stmt 1 view .LVU73
 149:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 251              		.loc 1 149 20 is_stmt 0 view .LVU74
 252 001e 83F42043 		eor	r3, r3, #40960
 253 0022 83F00103 		eor	r3, r3, #1
 254 0026 0381     		strh	r3, [r0, #8]	@ movhi
 255 0028 F1E7     		b	.L15
 256              	.L18:
 149:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 257              		.loc 1 149 20 view .LVU75
 258              	.LBE3:
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 259              		.loc 1 140 35 is_stmt 1 discriminator 2 view .LVU76
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 260              		.loc 1 140 38 is_stmt 0 discriminator 2 view .LVU77
 261 002a 0131     		adds	r1, r1, #1
 262              	.LVL13:
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 263              		.loc 1 140 38 discriminator 2 view .LVU78
 264 002c C9B2     		uxtb	r1, r1
 265              	.LVL14:
 266              	.L12:
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 267              		.loc 1 140 17 is_stmt 1 discriminator 1 view .LVU79
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 268              		.loc 1 140 28 is_stmt 0 discriminator 1 view .LVU80
 269 002e 0378     		ldrb	r3, [r0]	@ zero_extendqisi2
 140:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 270              		.loc 1 140 3 discriminator 1 view .LVU81
 271 0030 8B42     		cmp	r3, r1
 272 0032 06D9     		bls	.L19
 142:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 273              		.loc 1 142 5 is_stmt 1 view .LVU82
 142:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 274              		.loc 1 142 34 is_stmt 0 view .LVU83
 275 0034 4368     		ldr	r3, [r0, #4]
 142:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 276              		.loc 1 142 43 view .LVU84
 277 0036 5B5C     		ldrb	r3, [r3, r1]	@ zero_extendqisi2
 142:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 9


 278              		.loc 1 142 16 view .LVU85
 279 0038 0289     		ldrh	r2, [r0, #8]
 280 003a 5340     		eors	r3, r3, r2
 281 003c 0381     		strh	r3, [r0, #8]	@ movhi
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 282              		.loc 1 144 5 is_stmt 1 view .LVU86
 283              	.LBB4:
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 284              		.loc 1 144 10 view .LVU87
 285              	.LVL15:
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 286              		.loc 1 144 14 is_stmt 0 view .LVU88
 287 003e 0822     		movs	r2, #8
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 288              		.loc 1 144 5 view .LVU89
 289 0040 E6E7     		b	.L13
 290              	.LVL16:
 291              	.L19:
 144:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 292              		.loc 1 144 5 view .LVU90
 293              	.LBE4:
 153:../02_OS/EKM_Modbus/EKM_Modbus.c ****     }
 154:../02_OS/EKM_Modbus/EKM_Modbus.c ****   }
 155:../02_OS/EKM_Modbus/EKM_Modbus.c ****   // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 156:../02_OS/EKM_Modbus/EKM_Modbus.c ****   return pdata->crc;
 294              		.loc 1 156 3 is_stmt 1 view .LVU91
 157:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 295              		.loc 1 157 1 is_stmt 0 view .LVU92
 296 0042 0089     		ldrh	r0, [r0, #8]
 297              	.LVL17:
 298              		.loc 1 157 1 view .LVU93
 299 0044 7047     		bx	lr
 300              		.cfi_endproc
 301              	.LFE7:
 303              		.section	.text.EKM_MODBUS_CRC_Decode,"ax",%progbits
 304              		.align	1
 305              		.global	EKM_MODBUS_CRC_Decode
 306              		.syntax unified
 307              		.thumb
 308              		.thumb_func
 309              		.fpu fpv4-sp-d16
 311              	EKM_MODBUS_CRC_Decode:
 312              	.LVL18:
 313              	.LFB8:
 158:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 159:../02_OS/EKM_Modbus/EKM_Modbus.c **** /*******************************************************************************
 160:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Function: EKM_MODBUS_CRC_Decode
 161:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 162:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Parameters:      -
 163:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Returned value:  -
 164:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 165:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Description:
 166:../02_OS/EKM_Modbus/EKM_Modbus.c **** *
 167:../02_OS/EKM_Modbus/EKM_Modbus.c **** * Calling:
 168:../02_OS/EKM_Modbus/EKM_Modbus.c **** ******************************************************************************/
 169:../02_OS/EKM_Modbus/EKM_Modbus.c **** uint8_t EKM_MODBUS_CRC_Decode(EKM_MODBUS_t *pdata)
 170:../02_OS/EKM_Modbus/EKM_Modbus.c **** {
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 10


 314              		.loc 1 170 1 is_stmt 1 view -0
 315              		.cfi_startproc
 316              		@ args = 0, pretend = 0, frame = 0
 317              		@ frame_needed = 0, uses_anonymous_args = 0
 318              		.loc 1 170 1 is_stmt 0 view .LVU95
 319 0000 10B5     		push	{r4, lr}
 320              	.LCFI0:
 321              		.cfi_def_cfa_offset 8
 322              		.cfi_offset 4, -8
 323              		.cfi_offset 14, -4
 324 0002 0446     		mov	r4, r0
 171:../02_OS/EKM_Modbus/EKM_Modbus.c ****   uint8_t pos = 0;
 325              		.loc 1 171 3 is_stmt 1 view .LVU96
 326              	.LVL19:
 172:../02_OS/EKM_Modbus/EKM_Modbus.c ****   pdata->crc = 0xFFFF;
 327              		.loc 1 172 3 view .LVU97
 328              		.loc 1 172 14 is_stmt 0 view .LVU98
 329 0004 4FF6FF73 		movw	r3, #65535
 330 0008 0381     		strh	r3, [r0, #8]	@ movhi
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   for (pos = 0; pos < (pdata->len - 2); pos++)
 331              		.loc 1 173 3 is_stmt 1 view .LVU99
 332              		.loc 1 173 12 is_stmt 0 view .LVU100
 333 000a 0021     		movs	r1, #0
 334              		.loc 1 173 3 view .LVU101
 335 000c 11E0     		b	.L21
 336              	.LVL20:
 337              	.L23:
 338              	.LBB5:
 174:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 175:../02_OS/EKM_Modbus/EKM_Modbus.c ****     pdata->crc ^= (uint16_t)pdata->MODdata[pos]; // XOR byte into least sig. byte of crc
 176:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     for (int i = 8; i != 0; i--)
 178:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 179:../02_OS/EKM_Modbus/EKM_Modbus.c ****       if ((pdata->crc & 0x0001) != 0)
 180:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {            // If the LSB is set
 181:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc >>= 1; // Shift right and XOR 0xA001
 182:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 183:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 184:../02_OS/EKM_Modbus/EKM_Modbus.c ****       else         // Else LSB is not set
 185:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc >>= 1; // Just shift right
 339              		.loc 1 185 9 is_stmt 1 view .LVU102
 340              		.loc 1 185 20 is_stmt 0 view .LVU103
 341 000e 5B08     		lsrs	r3, r3, #1
 342 0010 2381     		strh	r3, [r4, #8]	@ movhi
 343              	.L24:
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 344              		.loc 1 177 29 is_stmt 1 discriminator 2 view .LVU104
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 345              		.loc 1 177 30 is_stmt 0 discriminator 2 view .LVU105
 346 0012 013A     		subs	r2, r2, #1
 347              	.LVL21:
 348              	.L22:
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 349              		.loc 1 177 21 is_stmt 1 discriminator 1 view .LVU106
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 350              		.loc 1 177 5 is_stmt 0 discriminator 1 view .LVU107
 351 0014 5AB1     		cbz	r2, .L31
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 11


 179:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {            // If the LSB is set
 352              		.loc 1 179 7 is_stmt 1 view .LVU108
 179:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {            // If the LSB is set
 353              		.loc 1 179 17 is_stmt 0 view .LVU109
 354 0016 2389     		ldrh	r3, [r4, #8]
 179:../02_OS/EKM_Modbus/EKM_Modbus.c ****       {            // If the LSB is set
 355              		.loc 1 179 10 view .LVU110
 356 0018 13F0010F 		tst	r3, #1
 357 001c F7D0     		beq	.L23
 181:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 358              		.loc 1 181 9 is_stmt 1 view .LVU111
 181:../02_OS/EKM_Modbus/EKM_Modbus.c ****         pdata->crc ^= 0xA001;
 359              		.loc 1 181 20 is_stmt 0 view .LVU112
 360 001e 5B08     		lsrs	r3, r3, #1
 361 0020 2381     		strh	r3, [r4, #8]	@ movhi
 182:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 362              		.loc 1 182 9 is_stmt 1 view .LVU113
 182:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 363              		.loc 1 182 20 is_stmt 0 view .LVU114
 364 0022 83F42043 		eor	r3, r3, #40960
 365 0026 83F00103 		eor	r3, r3, #1
 366 002a 2381     		strh	r3, [r4, #8]	@ movhi
 367 002c F1E7     		b	.L24
 368              	.L31:
 182:../02_OS/EKM_Modbus/EKM_Modbus.c ****       }
 369              		.loc 1 182 20 view .LVU115
 370              	.LBE5:
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 371              		.loc 1 173 41 is_stmt 1 discriminator 2 view .LVU116
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 372              		.loc 1 173 44 is_stmt 0 discriminator 2 view .LVU117
 373 002e 0131     		adds	r1, r1, #1
 374              	.LVL22:
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 375              		.loc 1 173 44 discriminator 2 view .LVU118
 376 0030 C9B2     		uxtb	r1, r1
 377              	.LVL23:
 378              	.L21:
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 379              		.loc 1 173 17 is_stmt 1 discriminator 1 view .LVU119
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 380              		.loc 1 173 29 is_stmt 0 discriminator 1 view .LVU120
 381 0032 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 382              		.loc 1 173 35 discriminator 1 view .LVU121
 383 0034 9A1E     		subs	r2, r3, #2
 173:../02_OS/EKM_Modbus/EKM_Modbus.c ****   {
 384              		.loc 1 173 3 discriminator 1 view .LVU122
 385 0036 9142     		cmp	r1, r2
 386 0038 06DA     		bge	.L32
 175:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 387              		.loc 1 175 5 is_stmt 1 view .LVU123
 175:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 388              		.loc 1 175 34 is_stmt 0 view .LVU124
 389 003a 6368     		ldr	r3, [r4, #4]
 175:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 390              		.loc 1 175 43 view .LVU125
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 12


 391 003c 5B5C     		ldrb	r3, [r3, r1]	@ zero_extendqisi2
 175:../02_OS/EKM_Modbus/EKM_Modbus.c **** 
 392              		.loc 1 175 16 view .LVU126
 393 003e 2289     		ldrh	r2, [r4, #8]
 394 0040 5340     		eors	r3, r3, r2
 395 0042 2381     		strh	r3, [r4, #8]	@ movhi
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 396              		.loc 1 177 5 is_stmt 1 view .LVU127
 397              	.LBB6:
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 398              		.loc 1 177 10 view .LVU128
 399              	.LVL24:
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 400              		.loc 1 177 14 is_stmt 0 view .LVU129
 401 0044 0822     		movs	r2, #8
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 402              		.loc 1 177 5 view .LVU130
 403 0046 E5E7     		b	.L22
 404              	.LVL25:
 405              	.L32:
 177:../02_OS/EKM_Modbus/EKM_Modbus.c ****     { // Loop over each bit
 406              		.loc 1 177 5 view .LVU131
 407              	.LBE6:
 186:../02_OS/EKM_Modbus/EKM_Modbus.c ****     }
 187:../02_OS/EKM_Modbus/EKM_Modbus.c ****   }
 188:../02_OS/EKM_Modbus/EKM_Modbus.c ****   if (((uint16_t) pdata->MODdata[pdata->len-2] == pdata->HCRC) &&
 408              		.loc 1 188 3 is_stmt 1 view .LVU132
 409              		.loc 1 188 24 is_stmt 0 view .LVU133
 410 0048 6268     		ldr	r2, [r4, #4]
 411              		.loc 1 188 33 view .LVU134
 412 004a D118     		adds	r1, r2, r3
 413              	.LVL26:
 414              		.loc 1 188 33 view .LVU135
 415 004c 11F8020C 		ldrb	r0, [r1, #-2]	@ zero_extendqisi2
 416              	.LVL27:
 417              		.loc 1 188 56 view .LVU136
 418 0050 217A     		ldrb	r1, [r4, #8]	@ zero_extendqisi2
 419              		.loc 1 188 6 view .LVU137
 420 0052 8842     		cmp	r0, r1
 421 0054 01D0     		beq	.L33
 189:../02_OS/EKM_Modbus/EKM_Modbus.c ****   ((uint16_t) pdata->MODdata[pdata->len-1] == pdata->LCRC)){
 190:../02_OS/EKM_Modbus/EKM_Modbus.c ****     EKM_MODBUS_Receiver_Get(pdata);
 191:../02_OS/EKM_Modbus/EKM_Modbus.c ****     EKM_MODBUS_Receiver_Get(pdata);
 192:../02_OS/EKM_Modbus/EKM_Modbus.c ****     return 1;
 193:../02_OS/EKM_Modbus/EKM_Modbus.c ****     }
 194:../02_OS/EKM_Modbus/EKM_Modbus.c ****   // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 195:../02_OS/EKM_Modbus/EKM_Modbus.c ****   return 0;
 422              		.loc 1 195 10 view .LVU138
 423 0056 0020     		movs	r0, #0
 424              	.L27:
 196:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 425              		.loc 1 196 1 view .LVU139
 426 0058 10BD     		pop	{r4, pc}
 427              	.LVL28:
 428              	.L33:
 189:../02_OS/EKM_Modbus/EKM_Modbus.c ****   ((uint16_t) pdata->MODdata[pdata->len-1] == pdata->LCRC)){
 429              		.loc 1 189 29 discriminator 1 view .LVU140
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 13


 430 005a 1344     		add	r3, r3, r2
 431 005c 13F8012C 		ldrb	r2, [r3, #-1]	@ zero_extendqisi2
 189:../02_OS/EKM_Modbus/EKM_Modbus.c ****   ((uint16_t) pdata->MODdata[pdata->len-1] == pdata->LCRC)){
 432              		.loc 1 189 52 discriminator 1 view .LVU141
 433 0060 637A     		ldrb	r3, [r4, #9]	@ zero_extendqisi2
 188:../02_OS/EKM_Modbus/EKM_Modbus.c ****   ((uint16_t) pdata->MODdata[pdata->len-1] == pdata->LCRC)){
 434              		.loc 1 188 64 discriminator 1 view .LVU142
 435 0062 9A42     		cmp	r2, r3
 436 0064 01D0     		beq	.L34
 195:../02_OS/EKM_Modbus/EKM_Modbus.c **** }
 437              		.loc 1 195 10 view .LVU143
 438 0066 0020     		movs	r0, #0
 439 0068 F6E7     		b	.L27
 440              	.L34:
 190:../02_OS/EKM_Modbus/EKM_Modbus.c ****     EKM_MODBUS_Receiver_Get(pdata);
 441              		.loc 1 190 5 is_stmt 1 view .LVU144
 442 006a 2046     		mov	r0, r4
 443 006c FFF7FEFF 		bl	EKM_MODBUS_Receiver_Get
 444              	.LVL29:
 191:../02_OS/EKM_Modbus/EKM_Modbus.c ****     return 1;
 445              		.loc 1 191 5 view .LVU145
 446 0070 2046     		mov	r0, r4
 447 0072 FFF7FEFF 		bl	EKM_MODBUS_Receiver_Get
 448              	.LVL30:
 192:../02_OS/EKM_Modbus/EKM_Modbus.c ****     }
 449              		.loc 1 192 5 view .LVU146
 192:../02_OS/EKM_Modbus/EKM_Modbus.c ****     }
 450              		.loc 1 192 12 is_stmt 0 view .LVU147
 451 0076 0120     		movs	r0, #1
 452 0078 EEE7     		b	.L27
 453              		.cfi_endproc
 454              	.LFE8:
 456              		.text
 457              	.Letext0:
 458              		.file 2 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\machine\\_defau
 459              		.file 3 "c:\\gnu arm embedded toolchain\\10 2020-q4-major\\arm-none-eabi\\include\\sys\\_stdint.h"
 460              		.file 4 "../02_OS/EKM_Modbus/EKM_Modbus.h"
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccGmquxW.s 			page 14


DEFINED SYMBOLS
                            *ABS*:00000000 EKM_Modbus.c
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:18     .text.EKM_MODBUS_Setup:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:26     .text.EKM_MODBUS_Setup:00000000 EKM_MODBUS_Setup
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:54     .text.EKM_MODBUS_DataClear:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:61     .text.EKM_MODBUS_DataClear:00000000 EKM_MODBUS_DataClear
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:111    .text.EKM_MODBUS_Receiver_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:118    .text.EKM_MODBUS_Receiver_Set:00000000 EKM_MODBUS_Receiver_Set
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:149    .text.EKM_MODBUS_Receiver_Get:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:156    .text.EKM_MODBUS_Receiver_Get:00000000 EKM_MODBUS_Receiver_Get
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:199    .text.EKM_MODBUS_CRC_Encode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:206    .text.EKM_MODBUS_CRC_Encode:00000000 EKM_MODBUS_CRC_Encode
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:304    .text.EKM_MODBUS_CRC_Decode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccGmquxW.s:311    .text.EKM_MODBUS_CRC_Decode:00000000 EKM_MODBUS_CRC_Decode

NO UNDEFINED SYMBOLS
