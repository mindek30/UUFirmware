ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Appl_Data.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.APPL_Data_Init,"ax",%progbits
  20              		.align	1
  21              		.global	APPL_Data_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	APPL_Data_Init:
  27              	.LFB291:
  28              		.file 1 "../01_Applcation/Appl_Data/Appl_Data.c"
   1:../01_Applcation/Appl_Data/Appl_Data.c **** /*
   2:../01_Applcation/Appl_Data/Appl_Data.c ****  * Appl_Data.c
   3:../01_Applcation/Appl_Data/Appl_Data.c ****  *
   4:../01_Applcation/Appl_Data/Appl_Data.c ****  * Created: 05/06/2022 1:46:27
   5:../01_Applcation/Appl_Data/Appl_Data.c ****  *  Author: Eakawit_kor
   6:../01_Applcation/Appl_Data/Appl_Data.c ****  */
   7:../01_Applcation/Appl_Data/Appl_Data.c **** 
   8:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdio.h>
   9:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdarg.h>
  10:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdlib.h>
  11:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdint.h>
  12:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdbool.h>
  13:../01_Applcation/Appl_Data/Appl_Data.c **** #include <string.h>
  14:../01_Applcation/Appl_Data/Appl_Data.c **** #include "main.h"
  15:../01_Applcation/Appl_Data/Appl_Data.c **** #include "usart.h"
  16:../01_Applcation/Appl_Data/Appl_Data.c **** #include "gpio.h"
  17:../01_Applcation/Appl_Data/Appl_Data.c **** #include "i2c.h"
  18:../01_Applcation/Appl_Data/Appl_Data.c **** #include "EKM_CMD.h"
  19:../01_Applcation/Appl_Data/Appl_Data.c **** #include "EKM_Buffer.h"
  20:../01_Applcation/Appl_Data/Appl_Data.c **** #include "Appl_Data.h"
  21:../01_Applcation/Appl_Data/Appl_Data.c **** #include "APPL_DMA_LTE.h"
  22:../01_Applcation/Appl_Data/Appl_Data.c **** #include "Appl_USBService.h"
  23:../01_Applcation/Appl_Data/Appl_Data.c **** 
  24:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  25:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  26:../01_Applcation/Appl_Data/Appl_Data.c ****  * DEFINE
  27:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  28:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  29:../01_Applcation/Appl_Data/Appl_Data.c **** #define APPL_Data_RS485_Buffer_Size 255
  30:../01_Applcation/Appl_Data/Appl_Data.c **** 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 2


  31:../01_Applcation/Appl_Data/Appl_Data.c **** //! Structure for an entry in the command list table.
  32:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Buffer[APPL_Data_RS485_Buffer_Size];
  33:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Buffer_pointer = 0;
  34:../01_Applcation/Appl_Data/Appl_Data.c **** 
  35:../01_Applcation/Appl_Data/Appl_Data.c **** APPL_DATA_t APPL_data;
  36:../01_Applcation/Appl_Data/Appl_Data.c **** //*****************************************************************************
  37:../01_Applcation/Appl_Data/Appl_Data.c **** // Prototypes for the APIs.
  38:../01_Applcation/Appl_Data/Appl_Data.c **** //*****************************************************************************
  39:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_Init(void);
  40:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Set(uint16_t data);
  41:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Get(void);
  42:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Set(uint8_t *data, uint8_t len);
  43:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Get(void);
  44:../01_Applcation/Appl_Data/Appl_Data.c **** uint16_t APPL_Data_RS485_CRC_Encode(uint8_t len, uint8_t *pdata);
  45:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_CRC_Decode(uint8_t *data, uint8_t len);
  46:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Send(void);
  47:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Set(uint8_t data);
  48:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_MODBUS_Task(void);
  49:../01_Applcation/Appl_Data/Appl_Data.c **** 
  50:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  51:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  52:../01_Applcation/Appl_Data/Appl_Data.c ****  * PRIVATE VARIABLE
  53:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  54:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  55:../01_Applcation/Appl_Data/Appl_Data.c **** 
  56:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  57:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_Init
  58:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  59:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
  60:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
  61:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  62:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
  63:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  64:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
  65:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  66:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_Init(void)
  67:../01_Applcation/Appl_Data/Appl_Data.c **** {
  29              		.loc 1 67 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  68:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_RESET);
  38              		.loc 1 68 5 view .LVU1
  39 0002 0022     		movs	r2, #0
  40 0004 0221     		movs	r1, #2
  41 0006 4FF09040 		mov	r0, #1207959552
  42 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  43              	.LVL0:
  69:../01_Applcation/Appl_Data/Appl_Data.c ****     memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
  44              		.loc 1 69 5 view .LVU2
  45 000e FF22     		movs	r2, #255
  46 0010 0021     		movs	r1, #0
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 3


  47 0012 0B48     		ldr	r0, .L3
  48 0014 FFF7FEFF 		bl	memset
  49              	.LVL1:
  70:../01_Applcation/Appl_Data/Appl_Data.c ****     // 59 03 00 00 00 0C 48 D7
  71:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = 8;
  50              		.loc 1 71 5 view .LVU3
  51              		.loc 1 71 27 is_stmt 0 view .LVU4
  52 0018 0A4B     		ldr	r3, .L3+4
  53 001a 0822     		movs	r2, #8
  54 001c 83F80521 		strb	r2, [r3, #261]
  72:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[0] = 0x59;
  55              		.loc 1 72 5 is_stmt 1 view .LVU5
  56              		.loc 1 72 26 is_stmt 0 view .LVU6
  57 0020 5922     		movs	r2, #89
  58 0022 9A71     		strb	r2, [r3, #6]
  73:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[1] = 0x03;
  59              		.loc 1 73 5 is_stmt 1 view .LVU7
  60              		.loc 1 73 26 is_stmt 0 view .LVU8
  61 0024 0322     		movs	r2, #3
  62 0026 DA71     		strb	r2, [r3, #7]
  74:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[2] = 0x00;
  63              		.loc 1 74 5 is_stmt 1 view .LVU9
  64              		.loc 1 74 26 is_stmt 0 view .LVU10
  65 0028 0022     		movs	r2, #0
  66 002a 1A72     		strb	r2, [r3, #8]
  75:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[3] = 0x00;
  67              		.loc 1 75 5 is_stmt 1 view .LVU11
  68              		.loc 1 75 26 is_stmt 0 view .LVU12
  69 002c 5A72     		strb	r2, [r3, #9]
  76:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[4] = 0x00;
  70              		.loc 1 76 5 is_stmt 1 view .LVU13
  71              		.loc 1 76 26 is_stmt 0 view .LVU14
  72 002e 9A72     		strb	r2, [r3, #10]
  77:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[5] = 0x0C;
  73              		.loc 1 77 5 is_stmt 1 view .LVU15
  74              		.loc 1 77 26 is_stmt 0 view .LVU16
  75 0030 0C22     		movs	r2, #12
  76 0032 DA72     		strb	r2, [r3, #11]
  78:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[6] = 0x48;
  77              		.loc 1 78 5 is_stmt 1 view .LVU17
  78              		.loc 1 78 26 is_stmt 0 view .LVU18
  79 0034 4822     		movs	r2, #72
  80 0036 1A73     		strb	r2, [r3, #12]
  79:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[7] = 0xD7;
  81              		.loc 1 79 5 is_stmt 1 view .LVU19
  82              		.loc 1 79 26 is_stmt 0 view .LVU20
  83 0038 D722     		movs	r2, #215
  84 003a 5A73     		strb	r2, [r3, #13]
  80:../01_Applcation/Appl_Data/Appl_Data.c **** }
  85              		.loc 1 80 1 view .LVU21
  86 003c 08BD     		pop	{r3, pc}
  87              	.L4:
  88 003e 00BF     		.align	2
  89              	.L3:
  90 0040 00000000 		.word	.LANCHOR0
  91 0044 00000000 		.word	.LANCHOR1
  92              		.cfi_endproc
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 4


  93              	.LFE291:
  95              		.section	.text.APPL_Data_ID_Set,"ax",%progbits
  96              		.align	1
  97              		.global	APPL_Data_ID_Set
  98              		.syntax unified
  99              		.thumb
 100              		.thumb_func
 102              	APPL_Data_ID_Set:
 103              	.LVL2:
 104              	.LFB292:
  81:../01_Applcation/Appl_Data/Appl_Data.c **** 
  82:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  83:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_ID_Set
  84:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  85:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
  86:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
  87:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  88:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
  89:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  90:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
  91:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  92:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Set(uint16_t data)
  93:../01_Applcation/Appl_Data/Appl_Data.c **** {
 105              		.loc 1 93 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 8
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		.loc 1 93 1 is_stmt 0 view .LVU23
 110 0000 70B5     		push	{r4, r5, r6, lr}
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 16
 113              		.cfi_offset 4, -16
 114              		.cfi_offset 5, -12
 115              		.cfi_offset 6, -8
 116              		.cfi_offset 14, -4
 117 0002 84B0     		sub	sp, sp, #16
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 32
  94:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 120              		.loc 1 94 5 is_stmt 1 view .LVU24
  95:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[3];
 121              		.loc 1 95 5 view .LVU25
  96:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 122              		.loc 1 96 5 view .LVU26
  97:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.deviceID = data;
 123              		.loc 1 97 5 view .LVU27
 124              		.loc 1 97 24 is_stmt 0 view .LVU28
 125 0004 104B     		ldr	r3, .L7
 126 0006 5880     		strh	r0, [r3, #2]	@ movhi
  98:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = data;
 127              		.loc 1 98 5 is_stmt 1 view .LVU29
  99:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_ID0_ADD;
 128              		.loc 1 99 5 view .LVU30
 129              		.loc 1 99 13 is_stmt 0 view .LVU31
 130 0008 0026     		movs	r6, #0
 131 000a 8DF80C60 		strb	r6, [sp, #12]
 100:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = tmp.HREG;
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 5


 132              		.loc 1 100 5 is_stmt 1 view .LVU32
 133              		.loc 1 100 13 is_stmt 0 view .LVU33
 134 000e 8DF80D00 		strb	r0, [sp, #13]
 101:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = tmp.LREG;
 135              		.loc 1 101 5 is_stmt 1 view .LVU34
 136              		.loc 1 101 13 is_stmt 0 view .LVU35
 137 0012 C0F30720 		ubfx	r0, r0, #8, #8
 138              	.LVL3:
 139              		.loc 1 101 13 view .LVU36
 140 0016 8DF80E00 		strb	r0, [sp, #14]
 102:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 141              		.loc 1 102 5 is_stmt 1 view .LVU37
 142 001a 0C4D     		ldr	r5, .L7+4
 143 001c 0122     		movs	r2, #1
 144 001e 1146     		mov	r1, r2
 145 0020 2846     		mov	r0, r5
 146 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 147              	.LVL4:
 103:../01_Applcation/Appl_Data/Appl_Data.c **** 
 104:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 3, 100);
 148              		.loc 1 104 5 view .LVU38
 149              		.loc 1 104 11 is_stmt 0 view .LVU39
 150 0026 6423     		movs	r3, #100
 151 0028 0093     		str	r3, [sp]
 152 002a 0323     		movs	r3, #3
 153 002c 03AA     		add	r2, sp, #12
 154 002e A021     		movs	r1, #160
 155 0030 0748     		ldr	r0, .L7+8
 156 0032 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 157              	.LVL5:
 158 0036 0446     		mov	r4, r0
 159              	.LVL6:
 105:../01_Applcation/Appl_Data/Appl_Data.c **** 
 106:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 160              		.loc 1 106 5 is_stmt 1 view .LVU40
 161 0038 3246     		mov	r2, r6
 162 003a 0121     		movs	r1, #1
 163 003c 2846     		mov	r0, r5
 164 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 165              	.LVL7:
 107:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
 108:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 166              		.loc 1 108 5 view .LVU41
 109:../01_Applcation/Appl_Data/Appl_Data.c **** }
 167              		.loc 1 109 1 is_stmt 0 view .LVU42
 168 0042 2046     		mov	r0, r4
 169 0044 04B0     		add	sp, sp, #16
 170              	.LCFI3:
 171              		.cfi_def_cfa_offset 16
 172              		@ sp needed
 173 0046 70BD     		pop	{r4, r5, r6, pc}
 174              	.LVL8:
 175              	.L8:
 176              		.loc 1 109 1 view .LVU43
 177              		.align	2
 178              	.L7:
 179 0048 00000000 		.word	.LANCHOR1
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 6


 180 004c 00040048 		.word	1207960576
 181 0050 00000000 		.word	hi2c1
 182              		.cfi_endproc
 183              	.LFE292:
 185              		.section	.text.APPL_Data_ID_Get,"ax",%progbits
 186              		.align	1
 187              		.global	APPL_Data_ID_Get
 188              		.syntax unified
 189              		.thumb
 190              		.thumb_func
 192              	APPL_Data_ID_Get:
 193              	.LFB293:
 110:../01_Applcation/Appl_Data/Appl_Data.c **** 
 111:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 112:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_ID_Get
 113:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 114:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 115:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 116:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 117:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 118:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 119:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 120:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 121:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Get(void)
 122:../01_Applcation/Appl_Data/Appl_Data.c **** {
 194              		.loc 1 122 1 is_stmt 1 view -0
 195              		.cfi_startproc
 196              		@ args = 0, pretend = 0, frame = 8
 197              		@ frame_needed = 0, uses_anonymous_args = 0
 198 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 199              	.LCFI4:
 200              		.cfi_def_cfa_offset 24
 201              		.cfi_offset 4, -24
 202              		.cfi_offset 5, -20
 203              		.cfi_offset 6, -16
 204              		.cfi_offset 7, -12
 205              		.cfi_offset 8, -8
 206              		.cfi_offset 14, -4
 207 0004 84B0     		sub	sp, sp, #16
 208              	.LCFI5:
 209              		.cfi_def_cfa_offset 40
 123:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 210              		.loc 1 123 5 view .LVU45
 124:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[3];
 211              		.loc 1 124 5 view .LVU46
 125:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 212              		.loc 1 125 5 view .LVU47
 126:../01_Applcation/Appl_Data/Appl_Data.c **** 
 127:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_ID0_ADD;
 213              		.loc 1 127 5 view .LVU48
 214              		.loc 1 127 13 is_stmt 0 view .LVU49
 215 0006 0025     		movs	r5, #0
 216 0008 8DF80C50 		strb	r5, [sp, #12]
 128:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = 0;
 217              		.loc 1 128 5 is_stmt 1 view .LVU50
 218              		.loc 1 128 13 is_stmt 0 view .LVU51
 219 000c 8DF80D50 		strb	r5, [sp, #13]
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 7


 129:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = 0;
 220              		.loc 1 129 5 is_stmt 1 view .LVU52
 221              		.loc 1 129 13 is_stmt 0 view .LVU53
 222 0010 8DF80E50 		strb	r5, [sp, #14]
 130:../01_Applcation/Appl_Data/Appl_Data.c **** 
 131:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 223              		.loc 1 131 5 is_stmt 1 view .LVU54
 224 0014 184E     		ldr	r6, .L11
 225 0016 0122     		movs	r2, #1
 226 0018 1146     		mov	r1, r2
 227 001a 3046     		mov	r0, r6
 228 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 229              	.LVL9:
 132:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 1, 100);
 230              		.loc 1 132 5 view .LVU55
 231              		.loc 1 132 11 is_stmt 0 view .LVU56
 232 0020 164F     		ldr	r7, .L11+4
 233 0022 4FF06408 		mov	r8, #100
 234 0026 CDF80080 		str	r8, [sp]
 235 002a 0123     		movs	r3, #1
 236 002c 03AA     		add	r2, sp, #12
 237 002e A021     		movs	r1, #160
 238 0030 3846     		mov	r0, r7
 239 0032 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 240              	.LVL10:
 241 0036 0446     		mov	r4, r0
 242              	.LVL11:
 133:../01_Applcation/Appl_Data/Appl_Data.c ****     ret |= HAL_I2C_Master_Receive(&hi2c1, AT24AA02_Page0 << 1, send, 2, 100);
 243              		.loc 1 133 5 is_stmt 1 view .LVU57
 244              		.loc 1 133 12 is_stmt 0 view .LVU58
 245 0038 CDF80080 		str	r8, [sp]
 246 003c 0223     		movs	r3, #2
 247 003e 03AA     		add	r2, sp, #12
 248 0040 A021     		movs	r1, #160
 249 0042 3846     		mov	r0, r7
 250 0044 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 251              	.LVL12:
 252              		.loc 1 133 9 view .LVU59
 253 0048 0443     		orrs	r4, r4, r0
 254              	.LVL13:
 255              		.loc 1 133 9 view .LVU60
 256 004a E4B2     		uxtb	r4, r4
 257              	.LVL14:
 134:../01_Applcation/Appl_Data/Appl_Data.c **** 
 135:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 258              		.loc 1 135 5 is_stmt 1 view .LVU61
 259 004c 2A46     		mov	r2, r5
 260 004e 0121     		movs	r1, #1
 261 0050 3046     		mov	r0, r6
 262 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 263              	.LVL15:
 136:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.HREG = send[0];
 264              		.loc 1 136 5 view .LVU62
 265              		.loc 1 136 20 is_stmt 0 view .LVU63
 266 0056 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 267              		.loc 1 136 14 view .LVU64
 268 005a 4FF00003 		mov	r3, #0	@ movhi
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 8


 269              	.LVL16:
 270              		.loc 1 136 14 view .LVU65
 271 005e 62F30703 		bfi	r3, r2, #0, #8
 272              	.LVL17:
 137:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.LREG = send[1];
 273              		.loc 1 137 5 is_stmt 1 view .LVU66
 274              		.loc 1 137 20 is_stmt 0 view .LVU67
 275 0062 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 276              		.loc 1 137 14 view .LVU68
 277 0066 62F30F23 		bfi	r3, r2, #8, #8
 138:../01_Applcation/Appl_Data/Appl_Data.c **** 
 139:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.deviceID = tmp.REG;
 278              		.loc 1 139 5 is_stmt 1 view .LVU69
 279              		.loc 1 139 24 is_stmt 0 view .LVU70
 280 006a 054A     		ldr	r2, .L11+8
 281 006c 5380     		strh	r3, [r2, #2]	@ movhi
 140:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
 141:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 282              		.loc 1 141 5 is_stmt 1 view .LVU71
 142:../01_Applcation/Appl_Data/Appl_Data.c **** }
 283              		.loc 1 142 1 is_stmt 0 view .LVU72
 284 006e 2046     		mov	r0, r4
 285 0070 04B0     		add	sp, sp, #16
 286              	.LCFI6:
 287              		.cfi_def_cfa_offset 24
 288              		@ sp needed
 289 0072 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 290              	.LVL18:
 291              	.L12:
 292              		.loc 1 142 1 view .LVU73
 293 0076 00BF     		.align	2
 294              	.L11:
 295 0078 00040048 		.word	1207960576
 296 007c 00000000 		.word	hi2c1
 297 0080 00000000 		.word	.LANCHOR1
 298              		.cfi_endproc
 299              	.LFE293:
 301              		.section	.text.APPL_Data_MODBUS_Get,"ax",%progbits
 302              		.align	1
 303              		.global	APPL_Data_MODBUS_Get
 304              		.syntax unified
 305              		.thumb
 306              		.thumb_func
 308              	APPL_Data_MODBUS_Get:
 309              	.LFB295:
 143:../01_Applcation/Appl_Data/Appl_Data.c **** 
 144:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 145:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Set
 146:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 147:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 148:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 149:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 150:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 151:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 152:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 153:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 154:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Set(uint8_t *data, uint8_t len)
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 9


 155:../01_Applcation/Appl_Data/Appl_Data.c **** {
 156:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 157:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 158:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 159:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 160:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 164:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 165:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 166:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 167:../01_Applcation/Appl_Data/Appl_Data.c ****     if (len >= 250)
 168:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 169:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 170:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < len; i++)
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 173:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_data.modsend[i] = data[i];
 174:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 175:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 176:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = APPL_Data_RS485_CRC_Encode(len, data);
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 179:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, i + 2, 100);
 181:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 182:../01_Applcation/Appl_Data/Appl_Data.c **** 
 183:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 184:../01_Applcation/Appl_Data/Appl_Data.c **** }
 185:../01_Applcation/Appl_Data/Appl_Data.c **** 
 186:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 187:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Get
 188:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 189:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 190:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 191:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 192:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 193:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 194:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 195:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 196:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Get(void)
 197:../01_Applcation/Appl_Data/Appl_Data.c **** {
 310              		.loc 1 197 1 is_stmt 1 view -0
 311              		.cfi_startproc
 312              		@ args = 0, pretend = 0, frame = 256
 313              		@ frame_needed = 0, uses_anonymous_args = 0
 314 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 315              	.LCFI7:
 316              		.cfi_def_cfa_offset 24
 317              		.cfi_offset 4, -24
 318              		.cfi_offset 5, -20
 319              		.cfi_offset 6, -16
 320              		.cfi_offset 7, -12
 321              		.cfi_offset 8, -8
 322              		.cfi_offset 14, -4
 323 0004 C2B0     		sub	sp, sp, #264
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 10


 324              	.LCFI8:
 325              		.cfi_def_cfa_offset 288
 198:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 326              		.loc 1 198 5 view .LVU75
 199:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 327              		.loc 1 199 5 view .LVU76
 200:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 328              		.loc 1 200 5 view .LVU77
 201:../01_Applcation/Appl_Data/Appl_Data.c **** 
 202:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 329              		.loc 1 202 5 view .LVU78
 330              		.loc 1 202 13 is_stmt 0 view .LVU79
 331 0006 0223     		movs	r3, #2
 332 0008 8DF80830 		strb	r3, [sp, #8]
 203:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = 0;
 333              		.loc 1 203 5 is_stmt 1 view .LVU80
 334              		.loc 1 203 13 is_stmt 0 view .LVU81
 335 000c 0024     		movs	r4, #0
 336 000e 8DF80940 		strb	r4, [sp, #9]
 204:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = 0;
 337              		.loc 1 204 5 is_stmt 1 view .LVU82
 338              		.loc 1 204 13 is_stmt 0 view .LVU83
 339 0012 8DF80A40 		strb	r4, [sp, #10]
 205:../01_Applcation/Appl_Data/Appl_Data.c **** 
 206:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 340              		.loc 1 206 5 is_stmt 1 view .LVU84
 341 0016 1A4E     		ldr	r6, .L17
 342 0018 0122     		movs	r2, #1
 343 001a 1146     		mov	r1, r2
 344 001c 3046     		mov	r0, r6
 345 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 346              	.LVL19:
 207:../01_Applcation/Appl_Data/Appl_Data.c **** 
 208:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 1, 100);
 347              		.loc 1 208 5 view .LVU85
 348              		.loc 1 208 11 is_stmt 0 view .LVU86
 349 0022 184F     		ldr	r7, .L17+4
 350 0024 4FF06408 		mov	r8, #100
 351 0028 CDF80080 		str	r8, [sp]
 352 002c 0123     		movs	r3, #1
 353 002e 02AA     		add	r2, sp, #8
 354 0030 A021     		movs	r1, #160
 355 0032 3846     		mov	r0, r7
 356 0034 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 357              	.LVL20:
 358 0038 0546     		mov	r5, r0
 359              	.LVL21:
 209:../01_Applcation/Appl_Data/Appl_Data.c ****     ret |= HAL_I2C_Master_Receive(&hi2c1, AT24AA02_Page0 << 1, send, 252, 100);
 360              		.loc 1 209 5 is_stmt 1 view .LVU87
 361              		.loc 1 209 12 is_stmt 0 view .LVU88
 362 003a CDF80080 		str	r8, [sp]
 363 003e FC23     		movs	r3, #252
 364 0040 02AA     		add	r2, sp, #8
 365 0042 A021     		movs	r1, #160
 366 0044 3846     		mov	r0, r7
 367 0046 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 368              	.LVL22:
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 11


 369              		.loc 1 209 9 view .LVU89
 370 004a 0543     		orrs	r5, r5, r0
 371              	.LVL23:
 372              		.loc 1 209 9 view .LVU90
 373 004c EDB2     		uxtb	r5, r5
 374              	.LVL24:
 210:../01_Applcation/Appl_Data/Appl_Data.c **** 
 211:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 375              		.loc 1 211 5 is_stmt 1 view .LVU91
 376 004e 2246     		mov	r2, r4
 377 0050 0121     		movs	r1, #1
 378 0052 3046     		mov	r0, r6
 379 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 380              	.LVL25:
 212:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 381              		.loc 1 212 5 view .LVU92
 382              		.loc 1 212 33 is_stmt 0 view .LVU93
 383 0058 9DF80900 		ldrb	r0, [sp, #9]	@ zero_extendqisi2
 384              		.loc 1 212 27 view .LVU94
 385 005c 0A4B     		ldr	r3, .L17+8
 386 005e 83F80501 		strb	r0, [r3, #261]
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 387              		.loc 1 213 5 is_stmt 1 view .LVU95
 388              	.LVL26:
 389              		.loc 1 213 12 is_stmt 0 view .LVU96
 390 0062 2246     		mov	r2, r4
 391              		.loc 1 213 5 view .LVU97
 392 0064 06E0     		b	.L14
 393              	.LVL27:
 394              	.L15:
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 215:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_data.modsend[i] = send[i + 2];
 395              		.loc 1 215 9 is_stmt 1 discriminator 3 view .LVU98
 396              		.loc 1 215 39 is_stmt 0 discriminator 3 view .LVU99
 397 0066 931C     		adds	r3, r2, #2
 398              		.loc 1 215 36 discriminator 3 view .LVU100
 399 0068 02A9     		add	r1, sp, #8
 400 006a C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 401              		.loc 1 215 30 discriminator 3 view .LVU101
 402 006c 064B     		ldr	r3, .L17+8
 403 006e 1344     		add	r3, r3, r2
 404 0070 9971     		strb	r1, [r3, #6]
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 405              		.loc 1 213 44 is_stmt 1 discriminator 3 view .LVU102
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 406              		.loc 1 213 45 is_stmt 0 discriminator 3 view .LVU103
 407 0072 0132     		adds	r2, r2, #1
 408              	.LVL28:
 409              	.L14:
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 410              		.loc 1 213 17 is_stmt 1 discriminator 1 view .LVU104
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 411              		.loc 1 213 5 is_stmt 0 discriminator 1 view .LVU105
 412 0074 9042     		cmp	r0, r2
 413 0076 F6DC     		bgt	.L15
 216:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 217:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 12


 218:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 414              		.loc 1 218 5 is_stmt 1 view .LVU106
 219:../01_Applcation/Appl_Data/Appl_Data.c **** }
 415              		.loc 1 219 1 is_stmt 0 view .LVU107
 416 0078 2846     		mov	r0, r5
 417 007a 42B0     		add	sp, sp, #264
 418              	.LCFI9:
 419              		.cfi_def_cfa_offset 24
 420              		@ sp needed
 421 007c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 422              	.LVL29:
 423              	.L18:
 424              		.loc 1 219 1 view .LVU108
 425              		.align	2
 426              	.L17:
 427 0080 00040048 		.word	1207960576
 428 0084 00000000 		.word	hi2c1
 429 0088 00000000 		.word	.LANCHOR1
 430              		.cfi_endproc
 431              	.LFE295:
 433              		.section	.text.APPL_Data_RS485_CRC_Encode,"ax",%progbits
 434              		.align	1
 435              		.global	APPL_Data_RS485_CRC_Encode
 436              		.syntax unified
 437              		.thumb
 438              		.thumb_func
 440              	APPL_Data_RS485_CRC_Encode:
 441              	.LVL30:
 442              	.LFB296:
 220:../01_Applcation/Appl_Data/Appl_Data.c **** 
 221:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 222:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_CRC_Encode
 223:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 224:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 225:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 226:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 227:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 228:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 229:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 230:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 231:../01_Applcation/Appl_Data/Appl_Data.c **** uint16_t APPL_Data_RS485_CRC_Encode(uint8_t len, uint8_t *pdata)
 232:../01_Applcation/Appl_Data/Appl_Data.c **** {
 443              		.loc 1 232 1 is_stmt 1 view -0
 444              		.cfi_startproc
 445              		@ args = 0, pretend = 0, frame = 0
 446              		@ frame_needed = 0, uses_anonymous_args = 0
 233:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 447              		.loc 1 233 5 view .LVU110
 234:../01_Applcation/Appl_Data/Appl_Data.c ****     uint16_t crc = 0xFFFF;
 448              		.loc 1 234 5 view .LVU111
 235:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 449              		.loc 1 235 5 view .LVU112
 450              		.loc 1 235 8 is_stmt 0 view .LVU113
 451 0000 09B1     		cbz	r1, .L32
 236:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 237:../01_Applcation/Appl_Data/Appl_Data.c ****         return 0;
 452              		.loc 1 237 16 view .LVU114
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 13


 453 0002 0020     		movs	r0, #0
 454              	.LVL31:
 238:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     for (pos = 0; pos < len; pos++)
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 241:../01_Applcation/Appl_Data/Appl_Data.c ****         crc ^= (uint16_t)pdata[pos]; // XOR byte into least sig. byte of crc
 242:../01_Applcation/Appl_Data/Appl_Data.c **** 
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         for (int i = 8; i != 0; i--)
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 245:../01_Applcation/Appl_Data/Appl_Data.c ****             if ((crc & 0x0001) != 0)
 246:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 247:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc >>= 1; // Shift right and XOR 0xA001
 248:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc ^= 0xA001;
 249:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 250:../01_Applcation/Appl_Data/Appl_Data.c ****             else           // Else LSB is not set
 251:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc >>= 1; // Just shift right
 252:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 253:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 254:../01_Applcation/Appl_Data/Appl_Data.c ****     // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 255:../01_Applcation/Appl_Data/Appl_Data.c ****     return crc;
 256:../01_Applcation/Appl_Data/Appl_Data.c **** }
 455              		.loc 1 256 1 view .LVU115
 456 0004 7047     		bx	lr
 457              	.LVL32:
 458              	.L32:
 232:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 459              		.loc 1 232 1 view .LVU116
 460 0006 00B5     		push	{lr}
 461              	.LCFI10:
 462              		.cfi_def_cfa_offset 4
 463              		.cfi_offset 14, -4
 464 0008 8446     		mov	ip, r0
 465 000a 8E46     		mov	lr, r1
 234:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 466              		.loc 1 234 14 view .LVU117
 467 000c 4FF6FF70 		movw	r0, #65535
 468              	.LVL33:
 234:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 469              		.loc 1 234 14 view .LVU118
 470 0010 0CE0     		b	.L21
 471              	.LVL34:
 472              	.L23:
 473              	.LBB2:
 251:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 474              		.loc 1 251 17 is_stmt 1 view .LVU119
 251:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 475              		.loc 1 251 21 is_stmt 0 view .LVU120
 476 0012 4008     		lsrs	r0, r0, #1
 477              	.LVL35:
 478              	.L24:
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 479              		.loc 1 243 33 is_stmt 1 discriminator 2 view .LVU121
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 480              		.loc 1 243 34 is_stmt 0 discriminator 2 view .LVU122
 481 0014 013B     		subs	r3, r3, #1
 482              	.LVL36:
 483              	.L22:
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 14


 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 484              		.loc 1 243 25 is_stmt 1 discriminator 1 view .LVU123
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 485              		.loc 1 243 9 is_stmt 0 discriminator 1 view .LVU124
 486 0016 3BB1     		cbz	r3, .L33
 245:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 487              		.loc 1 245 13 is_stmt 1 view .LVU125
 245:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 488              		.loc 1 245 16 is_stmt 0 view .LVU126
 489 0018 10F0010F 		tst	r0, #1
 490 001c F9D0     		beq	.L23
 247:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc ^= 0xA001;
 491              		.loc 1 247 17 is_stmt 1 view .LVU127
 492              	.LVL37:
 248:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 493              		.loc 1 248 17 view .LVU128
 248:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 494              		.loc 1 248 21 is_stmt 0 view .LVU129
 495 001e 4AF20102 		movw	r2, #40961
 496 0022 82EA5000 		eor	r0, r2, r0, lsr #1
 497              	.LVL38:
 248:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 498              		.loc 1 248 21 view .LVU130
 499 0026 F5E7     		b	.L24
 500              	.L33:
 248:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 501              		.loc 1 248 21 view .LVU131
 502              	.LBE2:
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 503              		.loc 1 239 30 is_stmt 1 discriminator 2 view .LVU132
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 504              		.loc 1 239 33 is_stmt 0 discriminator 2 view .LVU133
 505 0028 0131     		adds	r1, r1, #1
 506              	.LVL39:
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 507              		.loc 1 239 33 discriminator 2 view .LVU134
 508 002a C9B2     		uxtb	r1, r1
 509              	.LVL40:
 510              	.L21:
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 511              		.loc 1 239 19 is_stmt 1 discriminator 1 view .LVU135
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 512              		.loc 1 239 5 is_stmt 0 discriminator 1 view .LVU136
 513 002c 6145     		cmp	r1, ip
 514 002e 04D2     		bcs	.L34
 241:../01_Applcation/Appl_Data/Appl_Data.c **** 
 515              		.loc 1 241 9 is_stmt 1 view .LVU137
 241:../01_Applcation/Appl_Data/Appl_Data.c **** 
 516              		.loc 1 241 31 is_stmt 0 view .LVU138
 517 0030 1EF80130 		ldrb	r3, [lr, r1]	@ zero_extendqisi2
 241:../01_Applcation/Appl_Data/Appl_Data.c **** 
 518              		.loc 1 241 13 view .LVU139
 519 0034 5840     		eors	r0, r0, r3
 520              	.LVL41:
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 521              		.loc 1 243 9 is_stmt 1 view .LVU140
 522              	.LBB3:
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 15


 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 523              		.loc 1 243 14 view .LVU141
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 524              		.loc 1 243 18 is_stmt 0 view .LVU142
 525 0036 0823     		movs	r3, #8
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 526              		.loc 1 243 9 view .LVU143
 527 0038 EDE7     		b	.L22
 528              	.LVL42:
 529              	.L34:
 243:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 530              		.loc 1 243 9 view .LVU144
 531              	.LBE3:
 532              		.loc 1 256 1 view .LVU145
 533 003a 5DF804FB 		ldr	pc, [sp], #4
 534              		.cfi_endproc
 535              	.LFE296:
 537              		.section	.text.APPL_Data_MODBUS_Set,"ax",%progbits
 538              		.align	1
 539              		.global	APPL_Data_MODBUS_Set
 540              		.syntax unified
 541              		.thumb
 542              		.thumb_func
 544              	APPL_Data_MODBUS_Set:
 545              	.LVL43:
 546              	.LFB294:
 155:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 547              		.loc 1 155 1 is_stmt 1 view -0
 548              		.cfi_startproc
 549              		@ args = 0, pretend = 0, frame = 256
 550              		@ frame_needed = 0, uses_anonymous_args = 0
 155:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 551              		.loc 1 155 1 is_stmt 0 view .LVU147
 552 0000 30B5     		push	{r4, r5, lr}
 553              	.LCFI11:
 554              		.cfi_def_cfa_offset 12
 555              		.cfi_offset 4, -12
 556              		.cfi_offset 5, -8
 557              		.cfi_offset 14, -4
 558 0002 C3B0     		sub	sp, sp, #268
 559              	.LCFI12:
 560              		.cfi_def_cfa_offset 280
 561 0004 0A46     		mov	r2, r1
 156:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 562              		.loc 1 156 5 is_stmt 1 view .LVU148
 157:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 563              		.loc 1 157 5 view .LVU149
 158:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 564              		.loc 1 158 5 view .LVU150
 159:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 565              		.loc 1 159 5 view .LVU151
 160:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 566              		.loc 1 160 5 view .LVU152
 160:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 567              		.loc 1 160 13 is_stmt 0 view .LVU153
 568 0006 0223     		movs	r3, #2
 569 0008 8DF80830 		strb	r3, [sp, #8]
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 16


 161:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 570              		.loc 1 161 5 is_stmt 1 view .LVU154
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 571              		.loc 1 161 19 is_stmt 0 view .LVU155
 572 000c CB18     		adds	r3, r1, r3
 573 000e DBB2     		uxtb	r3, r3
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 574              		.loc 1 161 13 view .LVU156
 575 0010 8DF80930 		strb	r3, [sp, #9]
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 576              		.loc 1 162 5 is_stmt 1 view .LVU157
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 577              		.loc 1 162 27 is_stmt 0 view .LVU158
 578 0014 1E49     		ldr	r1, .L43
 579              	.LVL44:
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 580              		.loc 1 162 27 view .LVU159
 581 0016 81F80531 		strb	r3, [r1, #261]
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 582              		.loc 1 163 5 is_stmt 1 view .LVU160
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 583              		.loc 1 163 8 is_stmt 0 view .LVU161
 584 001a 18B1     		cbz	r0, .L42
 165:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 585              		.loc 1 165 16 view .LVU162
 586 001c 0124     		movs	r4, #1
 587              	.LVL45:
 588              	.L36:
 184:../01_Applcation/Appl_Data/Appl_Data.c **** 
 589              		.loc 1 184 1 view .LVU163
 590 001e 2046     		mov	r0, r4
 591 0020 43B0     		add	sp, sp, #268
 592              	.LCFI13:
 593              		.cfi_remember_state
 594              		.cfi_def_cfa_offset 12
 595              		@ sp needed
 596 0022 30BD     		pop	{r4, r5, pc}
 597              	.LVL46:
 598              	.L42:
 599              	.LCFI14:
 600              		.cfi_restore_state
 184:../01_Applcation/Appl_Data/Appl_Data.c **** 
 601              		.loc 1 184 1 view .LVU164
 602 0024 0146     		mov	r1, r0
 167:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 603              		.loc 1 167 5 is_stmt 1 view .LVU165
 167:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 604              		.loc 1 167 8 is_stmt 0 view .LVU166
 605 0026 F92A     		cmp	r2, #249
 606 0028 2FD8     		bhi	.L40
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 607              		.loc 1 171 12 view .LVU167
 608 002a 0024     		movs	r4, #0
 609 002c 0AE0     		b	.L37
 610              	.LVL47:
 611              	.L38:
 173:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 17


 612              		.loc 1 173 9 is_stmt 1 discriminator 3 view .LVU168
 173:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 613              		.loc 1 173 36 is_stmt 0 discriminator 3 view .LVU169
 614 002e 085D     		ldrb	r0, [r1, r4]	@ zero_extendqisi2
 173:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 615              		.loc 1 173 30 discriminator 3 view .LVU170
 616 0030 174B     		ldr	r3, .L43
 617 0032 2344     		add	r3, r3, r4
 618 0034 9871     		strb	r0, [r3, #6]
 174:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 619              		.loc 1 174 9 is_stmt 1 discriminator 3 view .LVU171
 174:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 620              		.loc 1 174 16 is_stmt 0 discriminator 3 view .LVU172
 621 0036 A31C     		adds	r3, r4, #2
 174:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 622              		.loc 1 174 27 discriminator 3 view .LVU173
 623 0038 11F804C0 		ldrb	ip, [r1, r4]	@ zero_extendqisi2
 174:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 624              		.loc 1 174 21 discriminator 3 view .LVU174
 625 003c 02A8     		add	r0, sp, #8
 626 003e 00F803C0 		strb	ip, [r0, r3]
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 627              		.loc 1 171 26 is_stmt 1 discriminator 3 view .LVU175
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 628              		.loc 1 171 27 is_stmt 0 discriminator 3 view .LVU176
 629 0042 0134     		adds	r4, r4, #1
 630              	.LVL48:
 631              	.L37:
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 632              		.loc 1 171 17 is_stmt 1 discriminator 1 view .LVU177
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 633              		.loc 1 171 5 is_stmt 0 discriminator 1 view .LVU178
 634 0044 A242     		cmp	r2, r4
 635 0046 F2DC     		bgt	.L38
 176:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 636              		.loc 1 176 5 is_stmt 1 view .LVU179
 176:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 637              		.loc 1 176 15 is_stmt 0 view .LVU180
 638 0048 1046     		mov	r0, r2
 639 004a FFF7FEFF 		bl	APPL_Data_RS485_CRC_Encode
 640              	.LVL49:
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 641              		.loc 1 177 5 is_stmt 1 view .LVU181
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 642              		.loc 1 177 24 is_stmt 0 view .LVU182
 643 004e 621C     		adds	r2, r4, #1
 644              	.LVL50:
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 645              		.loc 1 177 28 view .LVU183
 646 0050 0F4B     		ldr	r3, .L43
 647 0052 1919     		adds	r1, r3, r4
 648 0054 8871     		strb	r0, [r1, #6]
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 649              		.loc 1 178 5 is_stmt 1 view .LVU184
 650              	.LVL51:
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 651              		.loc 1 178 28 is_stmt 0 view .LVU185
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 18


 652 0056 1344     		add	r3, r3, r2
 653 0058 C0F30720 		ubfx	r0, r0, #8, #8
 654 005c 9871     		strb	r0, [r3, #6]
 179:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, i + 2, 100);
 655              		.loc 1 179 5 is_stmt 1 view .LVU186
 656 005e 0D4D     		ldr	r5, .L43+4
 657 0060 0122     		movs	r2, #1
 658 0062 1146     		mov	r1, r2
 659 0064 2846     		mov	r0, r5
 660 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 661              	.LVL52:
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 662              		.loc 1 180 5 view .LVU187
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 663              		.loc 1 180 11 is_stmt 0 view .LVU188
 664 006a 0434     		adds	r4, r4, #4
 665              	.LVL53:
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 666              		.loc 1 180 11 view .LVU189
 667 006c 6423     		movs	r3, #100
 668 006e 0093     		str	r3, [sp]
 669 0070 A3B2     		uxth	r3, r4
 670 0072 02AA     		add	r2, sp, #8
 671 0074 A021     		movs	r1, #160
 672 0076 0848     		ldr	r0, .L43+8
 673 0078 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 674              	.LVL54:
 675 007c 0446     		mov	r4, r0
 676              	.LVL55:
 181:../01_Applcation/Appl_Data/Appl_Data.c **** 
 677              		.loc 1 181 5 is_stmt 1 view .LVU190
 678 007e 0022     		movs	r2, #0
 679 0080 0121     		movs	r1, #1
 680 0082 2846     		mov	r0, r5
 681 0084 FFF7FEFF 		bl	HAL_GPIO_WritePin
 682              	.LVL56:
 183:../01_Applcation/Appl_Data/Appl_Data.c **** }
 683              		.loc 1 183 5 view .LVU191
 183:../01_Applcation/Appl_Data/Appl_Data.c **** }
 684              		.loc 1 183 12 is_stmt 0 view .LVU192
 685 0088 C9E7     		b	.L36
 686              	.LVL57:
 687              	.L40:
 169:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 688              		.loc 1 169 16 view .LVU193
 689 008a 0124     		movs	r4, #1
 690 008c C7E7     		b	.L36
 691              	.L44:
 692 008e 00BF     		.align	2
 693              	.L43:
 694 0090 00000000 		.word	.LANCHOR1
 695 0094 00040048 		.word	1207960576
 696 0098 00000000 		.word	hi2c1
 697              		.cfi_endproc
 698              	.LFE294:
 700              		.section	.text.APPL_Data_RS485_CRC_Decode,"ax",%progbits
 701              		.align	1
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 19


 702              		.global	APPL_Data_RS485_CRC_Decode
 703              		.syntax unified
 704              		.thumb
 705              		.thumb_func
 707              	APPL_Data_RS485_CRC_Decode:
 708              	.LVL58:
 709              	.LFB297:
 257:../01_Applcation/Appl_Data/Appl_Data.c **** 
 258:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 259:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_CRC_Decode
 260:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 261:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 262:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 263:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 264:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 265:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 266:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 267:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 268:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_CRC_Decode(uint8_t *data, uint8_t len)
 269:../01_Applcation/Appl_Data/Appl_Data.c **** {
 710              		.loc 1 269 1 is_stmt 1 view -0
 711              		.cfi_startproc
 712              		@ args = 0, pretend = 0, frame = 0
 713              		@ frame_needed = 0, uses_anonymous_args = 0
 270:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 714              		.loc 1 270 5 view .LVU195
 271:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 715              		.loc 1 271 5 view .LVU196
 272:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = 0xFFFF;
 716              		.loc 1 272 5 view .LVU197
 273:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data == (void *)0)
 717              		.loc 1 273 5 view .LVU198
 718              		.loc 1 273 8 is_stmt 0 view .LVU199
 719 0000 90B3     		cbz	r0, .L53
 269:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 720              		.loc 1 269 1 view .LVU200
 721 0002 00B5     		push	{lr}
 722              	.LCFI15:
 723              		.cfi_def_cfa_offset 4
 724              		.cfi_offset 14, -4
 725 0004 4FF0FF33 		mov	r3, #-1	@ movhi
 726              	.LVL59:
 269:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 727              		.loc 1 269 1 view .LVU201
 728 0008 8646     		mov	lr, r0
 274:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 275:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 276:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     for (pos = 0; pos < (len - 2); pos++)
 729              		.loc 1 277 14 view .LVU202
 730 000a 4FF0000C 		mov	ip, #0
 731 000e 10E0     		b	.L47
 732              	.LVL60:
 733              	.L49:
 734              	.LBB4:
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 279:../01_Applcation/Appl_Data/Appl_Data.c ****         //APPL_USB_printf("%02x ",data[pos]);
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 20


 280:../01_Applcation/Appl_Data/Appl_Data.c ****         tmp.REG ^= (uint16_t)data[pos]; // XOR byte into least sig. byte of crc
 281:../01_Applcation/Appl_Data/Appl_Data.c **** 
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         for (int i = 8; i != 0; i--)
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 284:../01_Applcation/Appl_Data/Appl_Data.c ****             if ((tmp.REG & 0x0001) != 0)
 285:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 286:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG >>= 1; // Shift right and XOR 0xA001
 287:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG ^= 0xA001;
 288:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 289:../01_Applcation/Appl_Data/Appl_Data.c ****             else               // Else LSB is not set
 290:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG >>= 1; // Just shift right
 735              		.loc 1 290 17 is_stmt 1 view .LVU203
 736              		.loc 1 290 25 is_stmt 0 view .LVU204
 737 0010 C0F34F03 		ubfx	r3, r0, #1, #16
 738              	.LVL61:
 739              	.L50:
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 740              		.loc 1 282 33 is_stmt 1 discriminator 2 view .LVU205
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 741              		.loc 1 282 34 is_stmt 0 discriminator 2 view .LVU206
 742 0014 013A     		subs	r2, r2, #1
 743              	.LVL62:
 744              	.L48:
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 745              		.loc 1 282 25 is_stmt 1 discriminator 1 view .LVU207
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 746              		.loc 1 282 9 is_stmt 0 discriminator 1 view .LVU208
 747 0016 42B1     		cbz	r2, .L60
 284:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 748              		.loc 1 284 13 is_stmt 1 view .LVU209
 749              	.LVL63:
 284:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 750              		.loc 1 284 21 is_stmt 0 view .LVU210
 751 0018 98B2     		uxth	r0, r3
 284:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 752              		.loc 1 284 16 view .LVU211
 753 001a 13F0010F 		tst	r3, #1
 754 001e F7D0     		beq	.L49
 286:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG ^= 0xA001;
 755              		.loc 1 286 17 is_stmt 1 view .LVU212
 287:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 756              		.loc 1 287 17 view .LVU213
 287:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 757              		.loc 1 287 25 is_stmt 0 view .LVU214
 758 0020 4AF20103 		movw	r3, #40961
 759              	.LVL64:
 287:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 760              		.loc 1 287 25 view .LVU215
 761 0024 83EA5003 		eor	r3, r3, r0, lsr #1
 287:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 762              		.loc 1 287 25 view .LVU216
 763 0028 F4E7     		b	.L50
 764              	.L60:
 765              	.LBE4:
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 766              		.loc 1 277 36 is_stmt 1 discriminator 2 view .LVU217
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 21


 767              		.loc 1 277 39 is_stmt 0 discriminator 2 view .LVU218
 768 002a 0CF1010C 		add	ip, ip, #1
 769              	.LVL65:
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 770              		.loc 1 277 39 discriminator 2 view .LVU219
 771 002e 5FFA8CFC 		uxtb	ip, ip
 772              	.LVL66:
 773              	.L47:
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 774              		.loc 1 277 19 is_stmt 1 discriminator 1 view .LVU220
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 775              		.loc 1 277 30 is_stmt 0 discriminator 1 view .LVU221
 776 0032 8A1E     		subs	r2, r1, #2
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 777              		.loc 1 277 5 discriminator 1 view .LVU222
 778 0034 9445     		cmp	ip, r2
 779 0036 04DA     		bge	.L61
 280:../01_Applcation/Appl_Data/Appl_Data.c **** 
 780              		.loc 1 280 9 is_stmt 1 view .LVU223
 280:../01_Applcation/Appl_Data/Appl_Data.c **** 
 781              		.loc 1 280 34 is_stmt 0 view .LVU224
 782 0038 1EF80C20 		ldrb	r2, [lr, ip]	@ zero_extendqisi2
 783              	.LVL67:
 280:../01_Applcation/Appl_Data/Appl_Data.c **** 
 784              		.loc 1 280 17 view .LVU225
 785 003c 5340     		eors	r3, r3, r2
 786              	.LVL68:
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 787              		.loc 1 282 9 is_stmt 1 view .LVU226
 788              	.LBB5:
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 789              		.loc 1 282 14 view .LVU227
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 790              		.loc 1 282 18 is_stmt 0 view .LVU228
 791 003e 0822     		movs	r2, #8
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 792              		.loc 1 282 9 view .LVU229
 793 0040 E9E7     		b	.L48
 794              	.LVL69:
 795              	.L61:
 282:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 796              		.loc 1 282 9 view .LVU230
 797              	.LBE5:
 291:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 292:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     if ((data[len - 2] == tmp.HREG) && (data[len - 1] == tmp.LREG))
 798              		.loc 1 293 5 is_stmt 1 view .LVU231
 799              		.loc 1 293 14 is_stmt 0 view .LVU232
 800 0042 0EEB0102 		add	r2, lr, r1
 801 0046 12F8020C 		ldrb	r0, [r2, #-2]	@ zero_extendqisi2
 802              		.loc 1 293 30 view .LVU233
 803 004a DAB2     		uxtb	r2, r3
 804              		.loc 1 293 8 view .LVU234
 805 004c 9042     		cmp	r0, r2
 806 004e 02D0     		beq	.L62
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 295:../01_Applcation/Appl_Data/Appl_Data.c ****         //APPL_USB_printf("REG %04x, %02x, %02x\r\n",tmp.REG,tmp.HREG,tmp.LREG);
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 22


 296:../01_Applcation/Appl_Data/Appl_Data.c ****         return 1;
 297:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 298:../01_Applcation/Appl_Data/Appl_Data.c ****     // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 299:../01_Applcation/Appl_Data/Appl_Data.c ****     return 0;
 807              		.loc 1 299 12 view .LVU235
 808 0050 0020     		movs	r0, #0
 809              	.LVL70:
 810              	.L46:
 300:../01_Applcation/Appl_Data/Appl_Data.c **** }
 811              		.loc 1 300 1 view .LVU236
 812 0052 5DF804FB 		ldr	pc, [sp], #4
 813              	.LVL71:
 814              	.L62:
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 815              		.loc 1 293 45 discriminator 1 view .LVU237
 816 0056 7144     		add	r1, r1, lr
 817              	.LVL72:
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 818              		.loc 1 293 45 discriminator 1 view .LVU238
 819 0058 11F8012C 		ldrb	r2, [r1, #-1]	@ zero_extendqisi2
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 820              		.loc 1 293 61 discriminator 1 view .LVU239
 821 005c C3F30723 		ubfx	r3, r3, #8, #8
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 822              		.loc 1 293 37 discriminator 1 view .LVU240
 823 0060 9A42     		cmp	r2, r3
 824 0062 03D0     		beq	.L55
 299:../01_Applcation/Appl_Data/Appl_Data.c **** }
 825              		.loc 1 299 12 view .LVU241
 826 0064 0020     		movs	r0, #0
 827 0066 F4E7     		b	.L46
 828              	.LVL73:
 829              	.L53:
 830              	.LCFI16:
 831              		.cfi_def_cfa_offset 0
 832              		.cfi_restore 14
 275:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 833              		.loc 1 275 16 view .LVU242
 834 0068 0120     		movs	r0, #1
 835              	.LVL74:
 836              		.loc 1 300 1 view .LVU243
 837 006a 7047     		bx	lr
 838              	.LVL75:
 839              	.L55:
 840              	.LCFI17:
 841              		.cfi_def_cfa_offset 4
 842              		.cfi_offset 14, -4
 296:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 843              		.loc 1 296 16 view .LVU244
 844 006c 0120     		movs	r0, #1
 845 006e F0E7     		b	.L46
 846              		.cfi_endproc
 847              	.LFE297:
 849              		.section	.text.APPL_Data_RS485_Send,"ax",%progbits
 850              		.align	1
 851              		.global	APPL_Data_RS485_Send
 852              		.syntax unified
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 23


 853              		.thumb
 854              		.thumb_func
 856              	APPL_Data_RS485_Send:
 857              	.LFB298:
 301:../01_Applcation/Appl_Data/Appl_Data.c **** 
 302:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 303:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_Send
 304:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 305:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 306:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 307:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 308:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 309:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 310:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 311:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 312:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Send(void)
 313:../01_Applcation/Appl_Data/Appl_Data.c **** {
 858              		.loc 1 313 1 is_stmt 1 view -0
 859              		.cfi_startproc
 860              		@ args = 0, pretend = 0, frame = 0
 861              		@ frame_needed = 0, uses_anonymous_args = 0
 862 0000 10B5     		push	{r4, lr}
 863              	.LCFI18:
 864              		.cfi_def_cfa_offset 8
 865              		.cfi_offset 4, -8
 866              		.cfi_offset 14, -4
 314:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 867              		.loc 1 314 5 view .LVU246
 315:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_SET);
 868              		.loc 1 315 5 view .LVU247
 869 0002 0122     		movs	r2, #1
 870 0004 0221     		movs	r1, #2
 871 0006 4FF09040 		mov	r0, #1207959552
 872 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 873              	.LVL76:
 316:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_Delay(1);
 874              		.loc 1 316 5 view .LVU248
 875 000e 0120     		movs	r0, #1
 876 0010 FFF7FEFF 		bl	HAL_Delay
 877              	.LVL77:
 317:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_UART_Transmit(&huart2, APPL_data.modsend, APPL_data.modbus_size, 100);
 878              		.loc 1 317 5 view .LVU249
 879              		.loc 1 317 66 is_stmt 0 view .LVU250
 880 0014 0849     		ldr	r1, .L65
 881              		.loc 1 317 11 view .LVU251
 882 0016 6423     		movs	r3, #100
 883 0018 91F80521 		ldrb	r2, [r1, #261]	@ zero_extendqisi2
 884 001c 0631     		adds	r1, r1, #6
 885 001e 0748     		ldr	r0, .L65+4
 886 0020 FFF7FEFF 		bl	HAL_UART_Transmit
 887              	.LVL78:
 888 0024 0446     		mov	r4, r0
 889              	.LVL79:
 318:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_RESET);
 890              		.loc 1 318 5 is_stmt 1 view .LVU252
 891 0026 0022     		movs	r2, #0
 892 0028 0221     		movs	r1, #2
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 24


 893 002a 4FF09040 		mov	r0, #1207959552
 894 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 895              	.LVL80:
 319:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 896              		.loc 1 319 5 view .LVU253
 320:../01_Applcation/Appl_Data/Appl_Data.c **** }
 897              		.loc 1 320 1 is_stmt 0 view .LVU254
 898 0032 2046     		mov	r0, r4
 899 0034 10BD     		pop	{r4, pc}
 900              	.LVL81:
 901              	.L66:
 902              		.loc 1 320 1 view .LVU255
 903 0036 00BF     		.align	2
 904              	.L65:
 905 0038 00000000 		.word	.LANCHOR1
 906 003c 00000000 		.word	huart2
 907              		.cfi_endproc
 908              	.LFE298:
 910              		.section	.text.APPL_Data_RS485_Set,"ax",%progbits
 911              		.align	1
 912              		.global	APPL_Data_RS485_Set
 913              		.syntax unified
 914              		.thumb
 915              		.thumb_func
 917              	APPL_Data_RS485_Set:
 918              	.LVL82:
 919              	.LFB299:
 321:../01_Applcation/Appl_Data/Appl_Data.c **** 
 322:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 323:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_Set
 324:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 325:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 326:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 327:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 328:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 329:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 330:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 331:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 332:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Set(uint8_t data)
 333:../01_Applcation/Appl_Data/Appl_Data.c **** {
 920              		.loc 1 333 1 is_stmt 1 view -0
 921              		.cfi_startproc
 922              		@ args = 0, pretend = 0, frame = 0
 923              		@ frame_needed = 0, uses_anonymous_args = 0
 924              		.loc 1 333 1 is_stmt 0 view .LVU257
 925 0000 08B5     		push	{r3, lr}
 926              	.LCFI19:
 927              		.cfi_def_cfa_offset 8
 928              		.cfi_offset 3, -8
 929              		.cfi_offset 14, -4
 334:../01_Applcation/Appl_Data/Appl_Data.c ****     if (APPL_Data_RS485_Buffer_pointer < APPL_Data_RS485_Buffer_Size)
 930              		.loc 1 334 5 is_stmt 1 view .LVU258
 931              		.loc 1 334 40 is_stmt 0 view .LVU259
 932 0002 094B     		ldr	r3, .L71
 933 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 934              		.loc 1 334 8 view .LVU260
 935 0006 FF2B     		cmp	r3, #255
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 25


 936 0008 06D0     		beq	.L68
 335:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 336:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer[APPL_Data_RS485_Buffer_pointer++] = data;
 937              		.loc 1 336 9 is_stmt 1 view .LVU261
 938              		.loc 1 336 62 is_stmt 0 view .LVU262
 939 000a 591C     		adds	r1, r3, #1
 940 000c 064A     		ldr	r2, .L71
 941 000e 1170     		strb	r1, [r2]
 942              		.loc 1 336 66 view .LVU263
 943 0010 064A     		ldr	r2, .L71+4
 944 0012 D054     		strb	r0, [r2, r3]
 945              	.LVL83:
 946              	.L69:
 337:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 338:../01_Applcation/Appl_Data/Appl_Data.c ****     else
 339:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 340:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer_pointer = 0;
 341:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 342:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 343:../01_Applcation/Appl_Data/Appl_Data.c ****     return 0;
 947              		.loc 1 343 5 is_stmt 1 view .LVU264
 344:../01_Applcation/Appl_Data/Appl_Data.c **** }
 948              		.loc 1 344 1 is_stmt 0 view .LVU265
 949 0014 0020     		movs	r0, #0
 950 0016 08BD     		pop	{r3, pc}
 951              	.LVL84:
 952              	.L68:
 340:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 953              		.loc 1 340 9 is_stmt 1 view .LVU266
 340:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 954              		.loc 1 340 40 is_stmt 0 view .LVU267
 955 0018 0021     		movs	r1, #0
 956 001a 034B     		ldr	r3, .L71
 957 001c 1970     		strb	r1, [r3]
 341:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 958              		.loc 1 341 9 is_stmt 1 view .LVU268
 959 001e FF22     		movs	r2, #255
 960 0020 0248     		ldr	r0, .L71+4
 961              	.LVL85:
 341:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 962              		.loc 1 341 9 is_stmt 0 view .LVU269
 963 0022 FFF7FEFF 		bl	memset
 964              	.LVL86:
 965 0026 F5E7     		b	.L69
 966              	.L72:
 967              		.align	2
 968              	.L71:
 969 0028 00000000 		.word	.LANCHOR2
 970 002c 00000000 		.word	.LANCHOR0
 971              		.cfi_endproc
 972              	.LFE299:
 974              		.section	.rodata.APPL_Data_MODBUS_Task.str1.4,"aMS",%progbits,1
 975              		.align	2
 976              	.LC0:
 977 0000 4D4F4442 		.ascii	"MODBUS\000"
 977      555300
 978 0007 00       		.align	2
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 26


 979              	.LC1:
 980 0008 52533438 		.ascii	"RS485: \000"
 980      353A2000 
 981              		.align	2
 982              	.LC2:
 983 0010 25303278 		.ascii	"%02x \000"
 983      2000
 984 0016 0000     		.align	2
 985              	.LC3:
 986 0018 0D0A00   		.ascii	"\015\012\000"
 987              		.section	.text.APPL_Data_MODBUS_Task,"ax",%progbits
 988              		.align	1
 989              		.global	APPL_Data_MODBUS_Task
 990              		.syntax unified
 991              		.thumb
 992              		.thumb_func
 994              	APPL_Data_MODBUS_Task:
 995              	.LFB300:
 345:../01_Applcation/Appl_Data/Appl_Data.c **** 
 346:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 347:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Task
 348:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 349:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 350:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 351:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 352:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 353:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 354:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 355:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 356:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_MODBUS_Task(void)
 357:../01_Applcation/Appl_Data/Appl_Data.c **** {
 996              		.loc 1 357 1 is_stmt 1 view -0
 997              		.cfi_startproc
 998              		@ args = 0, pretend = 0, frame = 0
 999              		@ frame_needed = 0, uses_anonymous_args = 0
 1000 0000 10B5     		push	{r4, lr}
 1001              	.LCFI20:
 1002              		.cfi_def_cfa_offset 8
 1003              		.cfi_offset 4, -8
 1004              		.cfi_offset 14, -4
 358:../01_Applcation/Appl_Data/Appl_Data.c ****     if (APPL_Data_RS485_CRC_Decode(APPL_Data_RS485_Buffer, APPL_Data_RS485_Buffer_pointer))
 1005              		.loc 1 358 5 view .LVU271
 1006              		.loc 1 358 9 is_stmt 0 view .LVU272
 1007 0002 134B     		ldr	r3, .L79
 1008 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1009 0006 2146     		mov	r1, r4
 1010 0008 1248     		ldr	r0, .L79+4
 1011 000a FFF7FEFF 		bl	APPL_Data_RS485_CRC_Decode
 1012              	.LVL87:
 1013              		.loc 1 358 8 view .LVU273
 1014 000e 00B9     		cbnz	r0, .L78
 1015              	.L73:
 359:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 360:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_DMA_LTE_MQTT_PUBLISH_Raw("MODBUS", APPL_Data_RS485_Buffer,APPL_Data_RS485_Buffer_point
 361:../01_Applcation/Appl_Data/Appl_Data.c ****         ///*
 362:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_USB_printf("RS485: ");
 363:../01_Applcation/Appl_Data/Appl_Data.c ****         for(int i = 0;i<APPL_Data_RS485_Buffer_pointer;i++){
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 27


 364:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 365:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 366:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_USB_printf("\r\n");
 367:../01_Applcation/Appl_Data/Appl_Data.c ****         //*/
 368:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer_pointer = 0;
 369:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 370:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 371:../01_Applcation/Appl_Data/Appl_Data.c **** }
 1016              		.loc 1 371 1 view .LVU274
 1017 0010 10BD     		pop	{r4, pc}
 1018              	.L78:
 360:../01_Applcation/Appl_Data/Appl_Data.c ****         ///*
 1019              		.loc 1 360 9 is_stmt 1 view .LVU275
 1020 0012 2246     		mov	r2, r4
 1021 0014 0F49     		ldr	r1, .L79+4
 1022 0016 1048     		ldr	r0, .L79+8
 1023 0018 FFF7FEFF 		bl	APPL_DMA_LTE_MQTT_PUBLISH_Raw
 1024              	.LVL88:
 362:../01_Applcation/Appl_Data/Appl_Data.c ****         for(int i = 0;i<APPL_Data_RS485_Buffer_pointer;i++){
 1025              		.loc 1 362 9 view .LVU276
 1026 001c 0F48     		ldr	r0, .L79+12
 1027 001e FFF7FEFF 		bl	APPL_USB_printf
 1028              	.LVL89:
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1029              		.loc 1 363 9 view .LVU277
 1030              	.LBB6:
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1031              		.loc 1 363 13 view .LVU278
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1032              		.loc 1 363 17 is_stmt 0 view .LVU279
 1033 0022 0024     		movs	r4, #0
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1034              		.loc 1 363 9 view .LVU280
 1035 0024 05E0     		b	.L75
 1036              	.LVL90:
 1037              	.L76:
 364:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 1038              		.loc 1 364 13 is_stmt 1 discriminator 3 view .LVU281
 1039 0026 0B4B     		ldr	r3, .L79+4
 1040 0028 195D     		ldrb	r1, [r3, r4]	@ zero_extendqisi2
 1041 002a 0D48     		ldr	r0, .L79+16
 1042 002c FFF7FEFF 		bl	APPL_USB_printf
 1043              	.LVL91:
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1044              		.loc 1 363 56 discriminator 3 view .LVU282
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1045              		.loc 1 363 57 is_stmt 0 discriminator 3 view .LVU283
 1046 0030 0134     		adds	r4, r4, #1
 1047              	.LVL92:
 1048              	.L75:
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1049              		.loc 1 363 23 is_stmt 1 discriminator 1 view .LVU284
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 1050              		.loc 1 363 24 is_stmt 0 discriminator 1 view .LVU285
 1051 0032 074B     		ldr	r3, .L79
 1052 0034 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 363:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 28


 1053              		.loc 1 363 9 discriminator 1 view .LVU286
 1054 0036 A342     		cmp	r3, r4
 1055 0038 F5DC     		bgt	.L76
 1056              	.LBE6:
 366:../01_Applcation/Appl_Data/Appl_Data.c ****         //*/
 1057              		.loc 1 366 9 is_stmt 1 view .LVU287
 1058 003a 0A48     		ldr	r0, .L79+20
 1059 003c FFF7FEFF 		bl	APPL_USB_printf
 1060              	.LVL93:
 368:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 1061              		.loc 1 368 9 view .LVU288
 368:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 1062              		.loc 1 368 40 is_stmt 0 view .LVU289
 1063 0040 0021     		movs	r1, #0
 1064 0042 034B     		ldr	r3, .L79
 1065 0044 1970     		strb	r1, [r3]
 369:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 1066              		.loc 1 369 9 is_stmt 1 view .LVU290
 1067 0046 FF22     		movs	r2, #255
 1068 0048 0248     		ldr	r0, .L79+4
 1069 004a FFF7FEFF 		bl	memset
 1070              	.LVL94:
 1071              		.loc 1 371 1 is_stmt 0 view .LVU291
 1072 004e DFE7     		b	.L73
 1073              	.L80:
 1074              		.align	2
 1075              	.L79:
 1076 0050 00000000 		.word	.LANCHOR2
 1077 0054 00000000 		.word	.LANCHOR0
 1078 0058 00000000 		.word	.LC0
 1079 005c 08000000 		.word	.LC1
 1080 0060 10000000 		.word	.LC2
 1081 0064 18000000 		.word	.LC3
 1082              		.cfi_endproc
 1083              	.LFE300:
 1085              		.global	APPL_data
 1086              		.global	APPL_Data_RS485_Buffer_pointer
 1087              		.global	APPL_Data_RS485_Buffer
 1088              		.section	.bss.APPL_Data_RS485_Buffer,"aw",%nobits
 1089              		.align	2
 1090              		.set	.LANCHOR0,. + 0
 1093              	APPL_Data_RS485_Buffer:
 1094 0000 00000000 		.space	255
 1094      00000000 
 1094      00000000 
 1094      00000000 
 1094      00000000 
 1095              		.section	.bss.APPL_Data_RS485_Buffer_pointer,"aw",%nobits
 1096              		.set	.LANCHOR2,. + 0
 1099              	APPL_Data_RS485_Buffer_pointer:
 1100 0000 00       		.space	1
 1101              		.section	.bss.APPL_data,"aw",%nobits
 1102              		.align	2
 1103              		.set	.LANCHOR1,. + 0
 1106              	APPL_data:
 1107 0000 00000000 		.space	262
 1107      00000000 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 29


 1107      00000000 
 1107      00000000 
 1107      00000000 
 1108              		.text
 1109              	.Letext0:
 1110              		.file 2 "c:\\gnuarm\\arm-none-eabi\\include\\machine\\_default_types.h"
 1111              		.file 3 "c:\\gnuarm\\arm-none-eabi\\include\\sys\\_stdint.h"
 1112              		.file 4 "../03_Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l432xx.h"
 1113              		.file 5 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1114              		.file 6 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1115              		.file 7 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1116              		.file 8 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h"
 1117              		.file 9 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 1118              		.file 10 "../02_OS/Core_UART/usart.h"
 1119              		.file 11 "../02_OS/Core_I2C/i2c.h"
 1120              		.file 12 "../02_OS/EKM_Buffer/EKM_Buffer.h"
 1121              		.file 13 "../01_Applcation/Appl_Data/Appl_Data.h"
 1122              		.file 14 "../01_Applcation/Appl_USBService/Appl_USBService.h"
 1123              		.file 15 "../01_Applcation/APPL_DMA_LTE/APPL_DMA_LTE.h"
 1124              		.file 16 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1125              		.file 17 "<built-in>"
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s 			page 30


DEFINED SYMBOLS
                            *ABS*:00000000 Appl_Data.c
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:20     .text.APPL_Data_Init:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:26     .text.APPL_Data_Init:00000000 APPL_Data_Init
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:90     .text.APPL_Data_Init:00000040 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:96     .text.APPL_Data_ID_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:102    .text.APPL_Data_ID_Set:00000000 APPL_Data_ID_Set
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:179    .text.APPL_Data_ID_Set:00000048 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:186    .text.APPL_Data_ID_Get:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:192    .text.APPL_Data_ID_Get:00000000 APPL_Data_ID_Get
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:295    .text.APPL_Data_ID_Get:00000078 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:302    .text.APPL_Data_MODBUS_Get:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:308    .text.APPL_Data_MODBUS_Get:00000000 APPL_Data_MODBUS_Get
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:427    .text.APPL_Data_MODBUS_Get:00000080 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:434    .text.APPL_Data_RS485_CRC_Encode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:440    .text.APPL_Data_RS485_CRC_Encode:00000000 APPL_Data_RS485_CRC_Encode
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:538    .text.APPL_Data_MODBUS_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:544    .text.APPL_Data_MODBUS_Set:00000000 APPL_Data_MODBUS_Set
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:694    .text.APPL_Data_MODBUS_Set:00000090 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:701    .text.APPL_Data_RS485_CRC_Decode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:707    .text.APPL_Data_RS485_CRC_Decode:00000000 APPL_Data_RS485_CRC_Decode
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:850    .text.APPL_Data_RS485_Send:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:856    .text.APPL_Data_RS485_Send:00000000 APPL_Data_RS485_Send
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:905    .text.APPL_Data_RS485_Send:00000038 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:911    .text.APPL_Data_RS485_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:917    .text.APPL_Data_RS485_Set:00000000 APPL_Data_RS485_Set
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:969    .text.APPL_Data_RS485_Set:00000028 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:975    .rodata.APPL_Data_MODBUS_Task.str1.4:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:988    .text.APPL_Data_MODBUS_Task:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:994    .text.APPL_Data_MODBUS_Task:00000000 APPL_Data_MODBUS_Task
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1076   .text.APPL_Data_MODBUS_Task:00000050 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1106   .bss.APPL_data:00000000 APPL_data
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1099   .bss.APPL_Data_RS485_Buffer_pointer:00000000 APPL_Data_RS485_Buffer_pointer
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1093   .bss.APPL_Data_RS485_Buffer:00000000 APPL_Data_RS485_Buffer
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1089   .bss.APPL_Data_RS485_Buffer:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1100   .bss.APPL_Data_RS485_Buffer_pointer:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccIHzlQk.s:1102   .bss.APPL_data:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
memset
HAL_I2C_Master_Transmit
hi2c1
HAL_I2C_Master_Receive
HAL_Delay
HAL_UART_Transmit
huart2
APPL_DMA_LTE_MQTT_PUBLISH_Raw
APPL_USB_printf
