ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 1


   1              		.cpu cortex-m4
   2              		.arch armv7e-m
   3              		.fpu fpv4-sp-d16
   4              		.eabi_attribute 27, 1
   5              		.eabi_attribute 28, 1
   6              		.eabi_attribute 20, 1
   7              		.eabi_attribute 21, 1
   8              		.eabi_attribute 23, 3
   9              		.eabi_attribute 24, 1
  10              		.eabi_attribute 25, 1
  11              		.eabi_attribute 26, 1
  12              		.eabi_attribute 30, 1
  13              		.eabi_attribute 34, 1
  14              		.eabi_attribute 18, 4
  15              		.file	"Appl_Data.c"
  16              		.text
  17              	.Ltext0:
  18              		.cfi_sections	.debug_frame
  19              		.section	.text.APPL_Data_Init,"ax",%progbits
  20              		.align	1
  21              		.global	APPL_Data_Init
  22              		.syntax unified
  23              		.thumb
  24              		.thumb_func
  26              	APPL_Data_Init:
  27              	.LFB291:
  28              		.file 1 "../01_Applcation/Appl_Data/Appl_Data.c"
   1:../01_Applcation/Appl_Data/Appl_Data.c **** /*
   2:../01_Applcation/Appl_Data/Appl_Data.c ****  * Appl_Data.c
   3:../01_Applcation/Appl_Data/Appl_Data.c ****  *
   4:../01_Applcation/Appl_Data/Appl_Data.c ****  * Created: 05/06/2022 1:46:27
   5:../01_Applcation/Appl_Data/Appl_Data.c ****  *  Author: Eakawit_kor
   6:../01_Applcation/Appl_Data/Appl_Data.c ****  */
   7:../01_Applcation/Appl_Data/Appl_Data.c **** 
   8:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdio.h>
   9:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdarg.h>
  10:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdlib.h>
  11:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdint.h>
  12:../01_Applcation/Appl_Data/Appl_Data.c **** #include <stdbool.h>
  13:../01_Applcation/Appl_Data/Appl_Data.c **** #include <string.h>
  14:../01_Applcation/Appl_Data/Appl_Data.c **** #include "main.h"
  15:../01_Applcation/Appl_Data/Appl_Data.c **** #include "usart.h"
  16:../01_Applcation/Appl_Data/Appl_Data.c **** #include "gpio.h"
  17:../01_Applcation/Appl_Data/Appl_Data.c **** #include "i2c.h"
  18:../01_Applcation/Appl_Data/Appl_Data.c **** #include "EKM_CMD.h"
  19:../01_Applcation/Appl_Data/Appl_Data.c **** #include "EKM_Buffer.h"
  20:../01_Applcation/Appl_Data/Appl_Data.c **** #include "Appl_Data.h"
  21:../01_Applcation/Appl_Data/Appl_Data.c **** #include "APPL_DMA_LTE.h"
  22:../01_Applcation/Appl_Data/Appl_Data.c **** #include "Appl_USBService.h"
  23:../01_Applcation/Appl_Data/Appl_Data.c **** 
  24:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  25:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  26:../01_Applcation/Appl_Data/Appl_Data.c ****  * DEFINE
  27:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  28:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  29:../01_Applcation/Appl_Data/Appl_Data.c **** #define APPL_Data_RS485_Buffer_Size 255
  30:../01_Applcation/Appl_Data/Appl_Data.c **** 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 2


  31:../01_Applcation/Appl_Data/Appl_Data.c **** //! Structure for an entry in the command list table.
  32:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Buffer[APPL_Data_RS485_Buffer_Size];
  33:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Buffer_pointer = 0;
  34:../01_Applcation/Appl_Data/Appl_Data.c **** 
  35:../01_Applcation/Appl_Data/Appl_Data.c **** APPL_DATA_t APPL_data;
  36:../01_Applcation/Appl_Data/Appl_Data.c **** //*****************************************************************************
  37:../01_Applcation/Appl_Data/Appl_Data.c **** // Prototypes for the APIs.
  38:../01_Applcation/Appl_Data/Appl_Data.c **** //*****************************************************************************
  39:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_Init(void);
  40:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Set(uint16_t data);
  41:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Get(void);
  42:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Set(uint8_t *data, uint8_t len);
  43:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Get(void);
  44:../01_Applcation/Appl_Data/Appl_Data.c **** uint16_t APPL_Data_RS485_CRC_Encode(uint8_t len, uint8_t *pdata);
  45:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_CRC_Decode(uint8_t *data, uint8_t len);
  46:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Send(void);
  47:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Set(uint8_t data);
  48:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_MODBUS_Task(void);
  49:../01_Applcation/Appl_Data/Appl_Data.c **** 
  50:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  51:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  52:../01_Applcation/Appl_Data/Appl_Data.c ****  * PRIVATE VARIABLE
  53:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  54:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  55:../01_Applcation/Appl_Data/Appl_Data.c **** 
  56:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  57:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_Init
  58:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  59:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
  60:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
  61:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  62:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
  63:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  64:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
  65:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  66:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_Init(void)
  67:../01_Applcation/Appl_Data/Appl_Data.c **** {
  29              		.loc 1 67 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33 0000 08B5     		push	{r3, lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 8
  36              		.cfi_offset 3, -8
  37              		.cfi_offset 14, -4
  68:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_RESET);
  38              		.loc 1 68 5 view .LVU1
  39 0002 0022     		movs	r2, #0
  40 0004 0221     		movs	r1, #2
  41 0006 4FF09040 		mov	r0, #1207959552
  42 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
  43              	.LVL0:
  69:../01_Applcation/Appl_Data/Appl_Data.c ****     memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
  44              		.loc 1 69 5 view .LVU2
  45 000e FF22     		movs	r2, #255
  46 0010 0021     		movs	r1, #0
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 3


  47 0012 0E48     		ldr	r0, .L3
  48 0014 FFF7FEFF 		bl	memset
  49              	.LVL1:
  70:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = 10;
  50              		.loc 1 70 5 view .LVU3
  51              		.loc 1 70 27 is_stmt 0 view .LVU4
  52 0018 0D4B     		ldr	r3, .L3+4
  53 001a 0A22     		movs	r2, #10
  54 001c 83F80521 		strb	r2, [r3, #261]
  71:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[0] = 0xF0;
  55              		.loc 1 71 5 is_stmt 1 view .LVU5
  56              		.loc 1 71 26 is_stmt 0 view .LVU6
  57 0020 F022     		movs	r2, #240
  58 0022 9A71     		strb	r2, [r3, #6]
  72:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[1] = 0xF1;
  59              		.loc 1 72 5 is_stmt 1 view .LVU7
  60              		.loc 1 72 26 is_stmt 0 view .LVU8
  61 0024 F122     		movs	r2, #241
  62 0026 DA71     		strb	r2, [r3, #7]
  73:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[2] = 0xF2;
  63              		.loc 1 73 5 is_stmt 1 view .LVU9
  64              		.loc 1 73 26 is_stmt 0 view .LVU10
  65 0028 F222     		movs	r2, #242
  66 002a 1A72     		strb	r2, [r3, #8]
  74:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[3] = 0xF3;
  67              		.loc 1 74 5 is_stmt 1 view .LVU11
  68              		.loc 1 74 26 is_stmt 0 view .LVU12
  69 002c F322     		movs	r2, #243
  70 002e 5A72     		strb	r2, [r3, #9]
  75:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[4] = 0xF4;
  71              		.loc 1 75 5 is_stmt 1 view .LVU13
  72              		.loc 1 75 26 is_stmt 0 view .LVU14
  73 0030 F422     		movs	r2, #244
  74 0032 9A72     		strb	r2, [r3, #10]
  76:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[5] = 0xF5;
  75              		.loc 1 76 5 is_stmt 1 view .LVU15
  76              		.loc 1 76 26 is_stmt 0 view .LVU16
  77 0034 F522     		movs	r2, #245
  78 0036 DA72     		strb	r2, [r3, #11]
  77:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[6] = 0xF6;
  79              		.loc 1 77 5 is_stmt 1 view .LVU17
  80              		.loc 1 77 26 is_stmt 0 view .LVU18
  81 0038 F622     		movs	r2, #246
  82 003a 1A73     		strb	r2, [r3, #12]
  78:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[7] = 0xF7;
  83              		.loc 1 78 5 is_stmt 1 view .LVU19
  84              		.loc 1 78 26 is_stmt 0 view .LVU20
  85 003c F722     		movs	r2, #247
  86 003e 5A73     		strb	r2, [r3, #13]
  79:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[8] = 0xF8;
  87              		.loc 1 79 5 is_stmt 1 view .LVU21
  88              		.loc 1 79 26 is_stmt 0 view .LVU22
  89 0040 F822     		movs	r2, #248
  90 0042 9A73     		strb	r2, [r3, #14]
  80:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[9] = 0xF9;
  91              		.loc 1 80 5 is_stmt 1 view .LVU23
  92              		.loc 1 80 26 is_stmt 0 view .LVU24
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 4


  93 0044 F922     		movs	r2, #249
  94 0046 DA73     		strb	r2, [r3, #15]
  81:../01_Applcation/Appl_Data/Appl_Data.c **** }
  95              		.loc 1 81 1 view .LVU25
  96 0048 08BD     		pop	{r3, pc}
  97              	.L4:
  98 004a 00BF     		.align	2
  99              	.L3:
 100 004c 00000000 		.word	.LANCHOR0
 101 0050 00000000 		.word	.LANCHOR1
 102              		.cfi_endproc
 103              	.LFE291:
 105              		.section	.text.APPL_Data_ID_Set,"ax",%progbits
 106              		.align	1
 107              		.global	APPL_Data_ID_Set
 108              		.syntax unified
 109              		.thumb
 110              		.thumb_func
 112              	APPL_Data_ID_Set:
 113              	.LVL2:
 114              	.LFB292:
  82:../01_Applcation/Appl_Data/Appl_Data.c **** 
  83:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
  84:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_ID_Set
  85:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  86:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
  87:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
  88:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  89:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
  90:../01_Applcation/Appl_Data/Appl_Data.c ****  *
  91:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
  92:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
  93:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Set(uint16_t data)
  94:../01_Applcation/Appl_Data/Appl_Data.c **** {
 115              		.loc 1 94 1 is_stmt 1 view -0
 116              		.cfi_startproc
 117              		@ args = 0, pretend = 0, frame = 8
 118              		@ frame_needed = 0, uses_anonymous_args = 0
 119              		.loc 1 94 1 is_stmt 0 view .LVU27
 120 0000 70B5     		push	{r4, r5, r6, lr}
 121              	.LCFI1:
 122              		.cfi_def_cfa_offset 16
 123              		.cfi_offset 4, -16
 124              		.cfi_offset 5, -12
 125              		.cfi_offset 6, -8
 126              		.cfi_offset 14, -4
 127 0002 84B0     		sub	sp, sp, #16
 128              	.LCFI2:
 129              		.cfi_def_cfa_offset 32
  95:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 130              		.loc 1 95 5 is_stmt 1 view .LVU28
  96:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[3];
 131              		.loc 1 96 5 view .LVU29
  97:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 132              		.loc 1 97 5 view .LVU30
  98:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.deviceID = data;
 133              		.loc 1 98 5 view .LVU31
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 5


 134              		.loc 1 98 24 is_stmt 0 view .LVU32
 135 0004 104B     		ldr	r3, .L7
 136 0006 5880     		strh	r0, [r3, #2]	@ movhi
  99:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = data;
 137              		.loc 1 99 5 is_stmt 1 view .LVU33
 100:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_ID0_ADD;
 138              		.loc 1 100 5 view .LVU34
 139              		.loc 1 100 13 is_stmt 0 view .LVU35
 140 0008 0026     		movs	r6, #0
 141 000a 8DF80C60 		strb	r6, [sp, #12]
 101:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = tmp.HREG;
 142              		.loc 1 101 5 is_stmt 1 view .LVU36
 143              		.loc 1 101 13 is_stmt 0 view .LVU37
 144 000e 8DF80D00 		strb	r0, [sp, #13]
 102:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = tmp.LREG;
 145              		.loc 1 102 5 is_stmt 1 view .LVU38
 146              		.loc 1 102 13 is_stmt 0 view .LVU39
 147 0012 C0F30720 		ubfx	r0, r0, #8, #8
 148              	.LVL3:
 149              		.loc 1 102 13 view .LVU40
 150 0016 8DF80E00 		strb	r0, [sp, #14]
 103:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 151              		.loc 1 103 5 is_stmt 1 view .LVU41
 152 001a 0C4D     		ldr	r5, .L7+4
 153 001c 0122     		movs	r2, #1
 154 001e 1146     		mov	r1, r2
 155 0020 2846     		mov	r0, r5
 156 0022 FFF7FEFF 		bl	HAL_GPIO_WritePin
 157              	.LVL4:
 104:../01_Applcation/Appl_Data/Appl_Data.c **** 
 105:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 3, 100);
 158              		.loc 1 105 5 view .LVU42
 159              		.loc 1 105 11 is_stmt 0 view .LVU43
 160 0026 6423     		movs	r3, #100
 161 0028 0093     		str	r3, [sp]
 162 002a 0323     		movs	r3, #3
 163 002c 03AA     		add	r2, sp, #12
 164 002e A021     		movs	r1, #160
 165 0030 0748     		ldr	r0, .L7+8
 166 0032 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 167              	.LVL5:
 168 0036 0446     		mov	r4, r0
 169              	.LVL6:
 106:../01_Applcation/Appl_Data/Appl_Data.c **** 
 107:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 170              		.loc 1 107 5 is_stmt 1 view .LVU44
 171 0038 3246     		mov	r2, r6
 172 003a 0121     		movs	r1, #1
 173 003c 2846     		mov	r0, r5
 174 003e FFF7FEFF 		bl	HAL_GPIO_WritePin
 175              	.LVL7:
 108:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
 109:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 176              		.loc 1 109 5 view .LVU45
 110:../01_Applcation/Appl_Data/Appl_Data.c **** }
 177              		.loc 1 110 1 is_stmt 0 view .LVU46
 178 0042 2046     		mov	r0, r4
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 6


 179 0044 04B0     		add	sp, sp, #16
 180              	.LCFI3:
 181              		.cfi_def_cfa_offset 16
 182              		@ sp needed
 183 0046 70BD     		pop	{r4, r5, r6, pc}
 184              	.LVL8:
 185              	.L8:
 186              		.loc 1 110 1 view .LVU47
 187              		.align	2
 188              	.L7:
 189 0048 00000000 		.word	.LANCHOR1
 190 004c 00040048 		.word	1207960576
 191 0050 00000000 		.word	hi2c1
 192              		.cfi_endproc
 193              	.LFE292:
 195              		.section	.text.APPL_Data_ID_Get,"ax",%progbits
 196              		.align	1
 197              		.global	APPL_Data_ID_Get
 198              		.syntax unified
 199              		.thumb
 200              		.thumb_func
 202              	APPL_Data_ID_Get:
 203              	.LFB293:
 111:../01_Applcation/Appl_Data/Appl_Data.c **** 
 112:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 113:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_ID_Get
 114:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 115:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 116:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 117:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 118:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 119:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 120:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 121:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 122:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_ID_Get(void)
 123:../01_Applcation/Appl_Data/Appl_Data.c **** {
 204              		.loc 1 123 1 is_stmt 1 view -0
 205              		.cfi_startproc
 206              		@ args = 0, pretend = 0, frame = 8
 207              		@ frame_needed = 0, uses_anonymous_args = 0
 208 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 209              	.LCFI4:
 210              		.cfi_def_cfa_offset 24
 211              		.cfi_offset 4, -24
 212              		.cfi_offset 5, -20
 213              		.cfi_offset 6, -16
 214              		.cfi_offset 7, -12
 215              		.cfi_offset 8, -8
 216              		.cfi_offset 14, -4
 217 0004 84B0     		sub	sp, sp, #16
 218              	.LCFI5:
 219              		.cfi_def_cfa_offset 40
 124:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 220              		.loc 1 124 5 view .LVU49
 125:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[3];
 221              		.loc 1 125 5 view .LVU50
 126:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 7


 222              		.loc 1 126 5 view .LVU51
 127:../01_Applcation/Appl_Data/Appl_Data.c **** 
 128:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_ID0_ADD;
 223              		.loc 1 128 5 view .LVU52
 224              		.loc 1 128 13 is_stmt 0 view .LVU53
 225 0006 0025     		movs	r5, #0
 226 0008 8DF80C50 		strb	r5, [sp, #12]
 129:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = 0;
 227              		.loc 1 129 5 is_stmt 1 view .LVU54
 228              		.loc 1 129 13 is_stmt 0 view .LVU55
 229 000c 8DF80D50 		strb	r5, [sp, #13]
 130:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = 0;
 230              		.loc 1 130 5 is_stmt 1 view .LVU56
 231              		.loc 1 130 13 is_stmt 0 view .LVU57
 232 0010 8DF80E50 		strb	r5, [sp, #14]
 131:../01_Applcation/Appl_Data/Appl_Data.c **** 
 132:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 233              		.loc 1 132 5 is_stmt 1 view .LVU58
 234 0014 184E     		ldr	r6, .L11
 235 0016 0122     		movs	r2, #1
 236 0018 1146     		mov	r1, r2
 237 001a 3046     		mov	r0, r6
 238 001c FFF7FEFF 		bl	HAL_GPIO_WritePin
 239              	.LVL9:
 133:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 1, 100);
 240              		.loc 1 133 5 view .LVU59
 241              		.loc 1 133 11 is_stmt 0 view .LVU60
 242 0020 164F     		ldr	r7, .L11+4
 243 0022 4FF06408 		mov	r8, #100
 244 0026 CDF80080 		str	r8, [sp]
 245 002a 0123     		movs	r3, #1
 246 002c 03AA     		add	r2, sp, #12
 247 002e A021     		movs	r1, #160
 248 0030 3846     		mov	r0, r7
 249 0032 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 250              	.LVL10:
 251 0036 0446     		mov	r4, r0
 252              	.LVL11:
 134:../01_Applcation/Appl_Data/Appl_Data.c ****     ret |= HAL_I2C_Master_Receive(&hi2c1, AT24AA02_Page0 << 1, send, 2, 100);
 253              		.loc 1 134 5 is_stmt 1 view .LVU61
 254              		.loc 1 134 12 is_stmt 0 view .LVU62
 255 0038 CDF80080 		str	r8, [sp]
 256 003c 0223     		movs	r3, #2
 257 003e 03AA     		add	r2, sp, #12
 258 0040 A021     		movs	r1, #160
 259 0042 3846     		mov	r0, r7
 260 0044 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 261              	.LVL12:
 262              		.loc 1 134 9 view .LVU63
 263 0048 0443     		orrs	r4, r4, r0
 264              	.LVL13:
 265              		.loc 1 134 9 view .LVU64
 266 004a E4B2     		uxtb	r4, r4
 267              	.LVL14:
 135:../01_Applcation/Appl_Data/Appl_Data.c **** 
 136:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 268              		.loc 1 136 5 is_stmt 1 view .LVU65
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 8


 269 004c 2A46     		mov	r2, r5
 270 004e 0121     		movs	r1, #1
 271 0050 3046     		mov	r0, r6
 272 0052 FFF7FEFF 		bl	HAL_GPIO_WritePin
 273              	.LVL15:
 137:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.HREG = send[0];
 274              		.loc 1 137 5 view .LVU66
 275              		.loc 1 137 20 is_stmt 0 view .LVU67
 276 0056 9DF80C20 		ldrb	r2, [sp, #12]	@ zero_extendqisi2
 277              		.loc 1 137 14 view .LVU68
 278 005a 4FF00003 		mov	r3, #0	@ movhi
 279              	.LVL16:
 280              		.loc 1 137 14 view .LVU69
 281 005e 62F30703 		bfi	r3, r2, #0, #8
 282              	.LVL17:
 138:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.LREG = send[1];
 283              		.loc 1 138 5 is_stmt 1 view .LVU70
 284              		.loc 1 138 20 is_stmt 0 view .LVU71
 285 0062 9DF80D20 		ldrb	r2, [sp, #13]	@ zero_extendqisi2
 286              		.loc 1 138 14 view .LVU72
 287 0066 62F30F23 		bfi	r3, r2, #8, #8
 139:../01_Applcation/Appl_Data/Appl_Data.c **** 
 140:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.deviceID = tmp.REG;
 288              		.loc 1 140 5 is_stmt 1 view .LVU73
 289              		.loc 1 140 24 is_stmt 0 view .LVU74
 290 006a 054A     		ldr	r2, .L11+8
 291 006c 5380     		strh	r3, [r2, #2]	@ movhi
 141:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
 142:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 292              		.loc 1 142 5 is_stmt 1 view .LVU75
 143:../01_Applcation/Appl_Data/Appl_Data.c **** }
 293              		.loc 1 143 1 is_stmt 0 view .LVU76
 294 006e 2046     		mov	r0, r4
 295 0070 04B0     		add	sp, sp, #16
 296              	.LCFI6:
 297              		.cfi_def_cfa_offset 24
 298              		@ sp needed
 299 0072 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 300              	.LVL18:
 301              	.L12:
 302              		.loc 1 143 1 view .LVU77
 303 0076 00BF     		.align	2
 304              	.L11:
 305 0078 00040048 		.word	1207960576
 306 007c 00000000 		.word	hi2c1
 307 0080 00000000 		.word	.LANCHOR1
 308              		.cfi_endproc
 309              	.LFE293:
 311              		.section	.text.APPL_Data_MODBUS_Get,"ax",%progbits
 312              		.align	1
 313              		.global	APPL_Data_MODBUS_Get
 314              		.syntax unified
 315              		.thumb
 316              		.thumb_func
 318              	APPL_Data_MODBUS_Get:
 319              	.LFB295:
 144:../01_Applcation/Appl_Data/Appl_Data.c **** 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 9


 145:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 146:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Set
 147:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 148:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 149:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 150:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 151:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 152:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 153:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 154:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 155:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Set(uint8_t *data, uint8_t len)
 156:../01_Applcation/Appl_Data/Appl_Data.c **** {
 157:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 158:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 159:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 160:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 164:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 165:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 166:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 167:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 168:../01_Applcation/Appl_Data/Appl_Data.c ****     if (len >= 250)
 169:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 170:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 171:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < len; i++)
 173:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 174:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_data.modsend[i] = data[i];
 175:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 176:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = APPL_Data_RS485_CRC_Encode(len, data);
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 179:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 181:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, i + 2, 100);
 182:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 183:../01_Applcation/Appl_Data/Appl_Data.c **** 
 184:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 185:../01_Applcation/Appl_Data/Appl_Data.c **** }
 186:../01_Applcation/Appl_Data/Appl_Data.c **** 
 187:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 188:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Get
 189:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 190:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 191:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 192:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 193:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 194:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 195:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 196:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 197:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_MODBUS_Get(void)
 198:../01_Applcation/Appl_Data/Appl_Data.c **** {
 320              		.loc 1 198 1 is_stmt 1 view -0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 256
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 10


 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 325              	.LCFI7:
 326              		.cfi_def_cfa_offset 24
 327              		.cfi_offset 4, -24
 328              		.cfi_offset 5, -20
 329              		.cfi_offset 6, -16
 330              		.cfi_offset 7, -12
 331              		.cfi_offset 8, -8
 332              		.cfi_offset 14, -4
 333 0004 C2B0     		sub	sp, sp, #264
 334              	.LCFI8:
 335              		.cfi_def_cfa_offset 288
 199:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 336              		.loc 1 199 5 view .LVU79
 200:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 337              		.loc 1 200 5 view .LVU80
 201:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 338              		.loc 1 201 5 view .LVU81
 202:../01_Applcation/Appl_Data/Appl_Data.c **** 
 203:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 339              		.loc 1 203 5 view .LVU82
 340              		.loc 1 203 13 is_stmt 0 view .LVU83
 341 0006 0223     		movs	r3, #2
 342 0008 8DF80830 		strb	r3, [sp, #8]
 204:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = 0;
 343              		.loc 1 204 5 is_stmt 1 view .LVU84
 344              		.loc 1 204 13 is_stmt 0 view .LVU85
 345 000c 0024     		movs	r4, #0
 346 000e 8DF80940 		strb	r4, [sp, #9]
 205:../01_Applcation/Appl_Data/Appl_Data.c ****     send[2] = 0;
 347              		.loc 1 205 5 is_stmt 1 view .LVU86
 348              		.loc 1 205 13 is_stmt 0 view .LVU87
 349 0012 8DF80A40 		strb	r4, [sp, #10]
 206:../01_Applcation/Appl_Data/Appl_Data.c **** 
 207:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 350              		.loc 1 207 5 is_stmt 1 view .LVU88
 351 0016 1A4E     		ldr	r6, .L17
 352 0018 0122     		movs	r2, #1
 353 001a 1146     		mov	r1, r2
 354 001c 3046     		mov	r0, r6
 355 001e FFF7FEFF 		bl	HAL_GPIO_WritePin
 356              	.LVL19:
 208:../01_Applcation/Appl_Data/Appl_Data.c **** 
 209:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, 1, 100);
 357              		.loc 1 209 5 view .LVU89
 358              		.loc 1 209 11 is_stmt 0 view .LVU90
 359 0022 184F     		ldr	r7, .L17+4
 360 0024 4FF06408 		mov	r8, #100
 361 0028 CDF80080 		str	r8, [sp]
 362 002c 0123     		movs	r3, #1
 363 002e 02AA     		add	r2, sp, #8
 364 0030 A021     		movs	r1, #160
 365 0032 3846     		mov	r0, r7
 366 0034 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 367              	.LVL20:
 368 0038 0546     		mov	r5, r0
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 11


 369              	.LVL21:
 210:../01_Applcation/Appl_Data/Appl_Data.c ****     ret |= HAL_I2C_Master_Receive(&hi2c1, AT24AA02_Page0 << 1, send, 252, 100);
 370              		.loc 1 210 5 is_stmt 1 view .LVU91
 371              		.loc 1 210 12 is_stmt 0 view .LVU92
 372 003a CDF80080 		str	r8, [sp]
 373 003e FC23     		movs	r3, #252
 374 0040 02AA     		add	r2, sp, #8
 375 0042 A021     		movs	r1, #160
 376 0044 3846     		mov	r0, r7
 377 0046 FFF7FEFF 		bl	HAL_I2C_Master_Receive
 378              	.LVL22:
 379              		.loc 1 210 9 view .LVU93
 380 004a 0543     		orrs	r5, r5, r0
 381              	.LVL23:
 382              		.loc 1 210 9 view .LVU94
 383 004c EDB2     		uxtb	r5, r5
 384              	.LVL24:
 211:../01_Applcation/Appl_Data/Appl_Data.c **** 
 212:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 385              		.loc 1 212 5 is_stmt 1 view .LVU95
 386 004e 2246     		mov	r2, r4
 387 0050 0121     		movs	r1, #1
 388 0052 3046     		mov	r0, r6
 389 0054 FFF7FEFF 		bl	HAL_GPIO_WritePin
 390              	.LVL25:
 213:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 391              		.loc 1 213 5 view .LVU96
 392              		.loc 1 213 33 is_stmt 0 view .LVU97
 393 0058 9DF80900 		ldrb	r0, [sp, #9]	@ zero_extendqisi2
 394              		.loc 1 213 27 view .LVU98
 395 005c 0A4B     		ldr	r3, .L17+8
 396 005e 83F80501 		strb	r0, [r3, #261]
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 397              		.loc 1 214 5 is_stmt 1 view .LVU99
 398              	.LVL26:
 399              		.loc 1 214 12 is_stmt 0 view .LVU100
 400 0062 2246     		mov	r2, r4
 401              		.loc 1 214 5 view .LVU101
 402 0064 06E0     		b	.L14
 403              	.LVL27:
 404              	.L15:
 215:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 216:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_data.modsend[i] = send[i + 2];
 405              		.loc 1 216 9 is_stmt 1 discriminator 3 view .LVU102
 406              		.loc 1 216 39 is_stmt 0 discriminator 3 view .LVU103
 407 0066 931C     		adds	r3, r2, #2
 408              		.loc 1 216 36 discriminator 3 view .LVU104
 409 0068 02A9     		add	r1, sp, #8
 410 006a C95C     		ldrb	r1, [r1, r3]	@ zero_extendqisi2
 411              		.loc 1 216 30 discriminator 3 view .LVU105
 412 006c 064B     		ldr	r3, .L17+8
 413 006e 1344     		add	r3, r3, r2
 414 0070 9971     		strb	r1, [r3, #6]
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 415              		.loc 1 214 44 is_stmt 1 discriminator 3 view .LVU106
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 416              		.loc 1 214 45 is_stmt 0 discriminator 3 view .LVU107
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 12


 417 0072 0132     		adds	r2, r2, #1
 418              	.LVL28:
 419              	.L14:
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 420              		.loc 1 214 17 is_stmt 1 discriminator 1 view .LVU108
 214:../01_Applcation/Appl_Data/Appl_Data.c ****     for (i = 0; i < APPL_data.modbus_size; i++)
 421              		.loc 1 214 5 is_stmt 0 discriminator 1 view .LVU109
 422 0074 9042     		cmp	r0, r2
 423 0076 F6DC     		bgt	.L15
 217:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 218:../01_Applcation/Appl_Data/Appl_Data.c ****     // APPL_CMD_printf("I2C = 0x%x\r\n", ret);
 219:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 424              		.loc 1 219 5 is_stmt 1 view .LVU110
 220:../01_Applcation/Appl_Data/Appl_Data.c **** }
 425              		.loc 1 220 1 is_stmt 0 view .LVU111
 426 0078 2846     		mov	r0, r5
 427 007a 42B0     		add	sp, sp, #264
 428              	.LCFI9:
 429              		.cfi_def_cfa_offset 24
 430              		@ sp needed
 431 007c BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 432              	.LVL29:
 433              	.L18:
 434              		.loc 1 220 1 view .LVU112
 435              		.align	2
 436              	.L17:
 437 0080 00040048 		.word	1207960576
 438 0084 00000000 		.word	hi2c1
 439 0088 00000000 		.word	.LANCHOR1
 440              		.cfi_endproc
 441              	.LFE295:
 443              		.section	.text.APPL_Data_RS485_CRC_Encode,"ax",%progbits
 444              		.align	1
 445              		.global	APPL_Data_RS485_CRC_Encode
 446              		.syntax unified
 447              		.thumb
 448              		.thumb_func
 450              	APPL_Data_RS485_CRC_Encode:
 451              	.LVL30:
 452              	.LFB296:
 221:../01_Applcation/Appl_Data/Appl_Data.c **** 
 222:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 223:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_CRC_Encode
 224:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 225:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 226:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 227:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 228:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 229:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 230:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 231:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 232:../01_Applcation/Appl_Data/Appl_Data.c **** uint16_t APPL_Data_RS485_CRC_Encode(uint8_t len, uint8_t *pdata)
 233:../01_Applcation/Appl_Data/Appl_Data.c **** {
 453              		.loc 1 233 1 is_stmt 1 view -0
 454              		.cfi_startproc
 455              		@ args = 0, pretend = 0, frame = 0
 456              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 13


 234:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 457              		.loc 1 234 5 view .LVU114
 235:../01_Applcation/Appl_Data/Appl_Data.c ****     uint16_t crc = 0xFFFF;
 458              		.loc 1 235 5 view .LVU115
 236:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 459              		.loc 1 236 5 view .LVU116
 460              		.loc 1 236 8 is_stmt 0 view .LVU117
 461 0000 09B1     		cbz	r1, .L32
 237:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 238:../01_Applcation/Appl_Data/Appl_Data.c ****         return 0;
 462              		.loc 1 238 16 view .LVU118
 463 0002 0020     		movs	r0, #0
 464              	.LVL31:
 239:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     for (pos = 0; pos < len; pos++)
 241:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 242:../01_Applcation/Appl_Data/Appl_Data.c ****         crc ^= (uint16_t)pdata[pos]; // XOR byte into least sig. byte of crc
 243:../01_Applcation/Appl_Data/Appl_Data.c **** 
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         for (int i = 8; i != 0; i--)
 245:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 246:../01_Applcation/Appl_Data/Appl_Data.c ****             if ((crc & 0x0001) != 0)
 247:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 248:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc >>= 1; // Shift right and XOR 0xA001
 249:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc ^= 0xA001;
 250:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 251:../01_Applcation/Appl_Data/Appl_Data.c ****             else           // Else LSB is not set
 252:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc >>= 1; // Just shift right
 253:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 254:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 255:../01_Applcation/Appl_Data/Appl_Data.c ****     // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 256:../01_Applcation/Appl_Data/Appl_Data.c ****     return crc;
 257:../01_Applcation/Appl_Data/Appl_Data.c **** }
 465              		.loc 1 257 1 view .LVU119
 466 0004 7047     		bx	lr
 467              	.LVL32:
 468              	.L32:
 233:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 469              		.loc 1 233 1 view .LVU120
 470 0006 00B5     		push	{lr}
 471              	.LCFI10:
 472              		.cfi_def_cfa_offset 4
 473              		.cfi_offset 14, -4
 474 0008 8446     		mov	ip, r0
 475 000a 8E46     		mov	lr, r1
 235:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 476              		.loc 1 235 14 view .LVU121
 477 000c 4FF6FF70 		movw	r0, #65535
 478              	.LVL33:
 235:../01_Applcation/Appl_Data/Appl_Data.c ****     if (pdata != (void *)0)
 479              		.loc 1 235 14 view .LVU122
 480 0010 0CE0     		b	.L21
 481              	.LVL34:
 482              	.L23:
 483              	.LBB2:
 252:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 484              		.loc 1 252 17 is_stmt 1 view .LVU123
 252:../01_Applcation/Appl_Data/Appl_Data.c ****         }
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 14


 485              		.loc 1 252 21 is_stmt 0 view .LVU124
 486 0012 4008     		lsrs	r0, r0, #1
 487              	.LVL35:
 488              	.L24:
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 489              		.loc 1 244 33 is_stmt 1 discriminator 2 view .LVU125
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 490              		.loc 1 244 34 is_stmt 0 discriminator 2 view .LVU126
 491 0014 013B     		subs	r3, r3, #1
 492              	.LVL36:
 493              	.L22:
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 494              		.loc 1 244 25 is_stmt 1 discriminator 1 view .LVU127
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 495              		.loc 1 244 9 is_stmt 0 discriminator 1 view .LVU128
 496 0016 3BB1     		cbz	r3, .L33
 246:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 497              		.loc 1 246 13 is_stmt 1 view .LVU129
 246:../01_Applcation/Appl_Data/Appl_Data.c ****             {              // If the LSB is set
 498              		.loc 1 246 16 is_stmt 0 view .LVU130
 499 0018 10F0010F 		tst	r0, #1
 500 001c F9D0     		beq	.L23
 248:../01_Applcation/Appl_Data/Appl_Data.c ****                 crc ^= 0xA001;
 501              		.loc 1 248 17 is_stmt 1 view .LVU131
 502              	.LVL37:
 249:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 503              		.loc 1 249 17 view .LVU132
 249:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 504              		.loc 1 249 21 is_stmt 0 view .LVU133
 505 001e 4AF20102 		movw	r2, #40961
 506 0022 82EA5000 		eor	r0, r2, r0, lsr #1
 507              	.LVL38:
 249:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 508              		.loc 1 249 21 view .LVU134
 509 0026 F5E7     		b	.L24
 510              	.L33:
 249:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 511              		.loc 1 249 21 view .LVU135
 512              	.LBE2:
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 513              		.loc 1 240 30 is_stmt 1 discriminator 2 view .LVU136
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 514              		.loc 1 240 33 is_stmt 0 discriminator 2 view .LVU137
 515 0028 0131     		adds	r1, r1, #1
 516              	.LVL39:
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 517              		.loc 1 240 33 discriminator 2 view .LVU138
 518 002a C9B2     		uxtb	r1, r1
 519              	.LVL40:
 520              	.L21:
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 521              		.loc 1 240 19 is_stmt 1 discriminator 1 view .LVU139
 240:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 522              		.loc 1 240 5 is_stmt 0 discriminator 1 view .LVU140
 523 002c 6145     		cmp	r1, ip
 524 002e 04D2     		bcs	.L34
 242:../01_Applcation/Appl_Data/Appl_Data.c **** 
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 15


 525              		.loc 1 242 9 is_stmt 1 view .LVU141
 242:../01_Applcation/Appl_Data/Appl_Data.c **** 
 526              		.loc 1 242 31 is_stmt 0 view .LVU142
 527 0030 1EF80130 		ldrb	r3, [lr, r1]	@ zero_extendqisi2
 242:../01_Applcation/Appl_Data/Appl_Data.c **** 
 528              		.loc 1 242 13 view .LVU143
 529 0034 5840     		eors	r0, r0, r3
 530              	.LVL41:
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 531              		.loc 1 244 9 is_stmt 1 view .LVU144
 532              	.LBB3:
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 533              		.loc 1 244 14 view .LVU145
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 534              		.loc 1 244 18 is_stmt 0 view .LVU146
 535 0036 0823     		movs	r3, #8
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 536              		.loc 1 244 9 view .LVU147
 537 0038 EDE7     		b	.L22
 538              	.LVL42:
 539              	.L34:
 244:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 540              		.loc 1 244 9 view .LVU148
 541              	.LBE3:
 542              		.loc 1 257 1 view .LVU149
 543 003a 5DF804FB 		ldr	pc, [sp], #4
 544              		.cfi_endproc
 545              	.LFE296:
 547              		.section	.text.APPL_Data_MODBUS_Set,"ax",%progbits
 548              		.align	1
 549              		.global	APPL_Data_MODBUS_Set
 550              		.syntax unified
 551              		.thumb
 552              		.thumb_func
 554              	APPL_Data_MODBUS_Set:
 555              	.LVL43:
 556              	.LFB294:
 156:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 557              		.loc 1 156 1 is_stmt 1 view -0
 558              		.cfi_startproc
 559              		@ args = 0, pretend = 0, frame = 256
 560              		@ frame_needed = 0, uses_anonymous_args = 0
 156:../01_Applcation/Appl_Data/Appl_Data.c ****     int i;
 561              		.loc 1 156 1 is_stmt 0 view .LVU151
 562 0000 30B5     		push	{r4, r5, lr}
 563              	.LCFI11:
 564              		.cfi_def_cfa_offset 12
 565              		.cfi_offset 4, -12
 566              		.cfi_offset 5, -8
 567              		.cfi_offset 14, -4
 568 0002 C3B0     		sub	sp, sp, #268
 569              	.LCFI12:
 570              		.cfi_def_cfa_offset 280
 571 0004 0A46     		mov	r2, r1
 157:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 572              		.loc 1 157 5 is_stmt 1 view .LVU152
 158:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 16


 573              		.loc 1 158 5 view .LVU153
 159:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t send[255];
 574              		.loc 1 159 5 view .LVU154
 160:../01_Applcation/Appl_Data/Appl_Data.c ****     send[0] = APPL_DATA_Modbus_ADD;
 575              		.loc 1 160 5 view .LVU155
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 576              		.loc 1 161 5 view .LVU156
 161:../01_Applcation/Appl_Data/Appl_Data.c ****     send[1] = len + 2;
 577              		.loc 1 161 13 is_stmt 0 view .LVU157
 578 0006 0223     		movs	r3, #2
 579 0008 8DF80830 		strb	r3, [sp, #8]
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 580              		.loc 1 162 5 is_stmt 1 view .LVU158
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 581              		.loc 1 162 19 is_stmt 0 view .LVU159
 582 000c CB18     		adds	r3, r1, r3
 583 000e DBB2     		uxtb	r3, r3
 162:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modbus_size = send[1];
 584              		.loc 1 162 13 view .LVU160
 585 0010 8DF80930 		strb	r3, [sp, #9]
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 586              		.loc 1 163 5 is_stmt 1 view .LVU161
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 587              		.loc 1 163 27 is_stmt 0 view .LVU162
 588 0014 1E49     		ldr	r1, .L43
 589              	.LVL44:
 163:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data != (void *)0)
 590              		.loc 1 163 27 view .LVU163
 591 0016 81F80531 		strb	r3, [r1, #261]
 164:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 592              		.loc 1 164 5 is_stmt 1 view .LVU164
 164:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 593              		.loc 1 164 8 is_stmt 0 view .LVU165
 594 001a 18B1     		cbz	r0, .L42
 166:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 595              		.loc 1 166 16 view .LVU166
 596 001c 0124     		movs	r4, #1
 597              	.LVL45:
 598              	.L36:
 185:../01_Applcation/Appl_Data/Appl_Data.c **** 
 599              		.loc 1 185 1 view .LVU167
 600 001e 2046     		mov	r0, r4
 601 0020 43B0     		add	sp, sp, #268
 602              	.LCFI13:
 603              		.cfi_remember_state
 604              		.cfi_def_cfa_offset 12
 605              		@ sp needed
 606 0022 30BD     		pop	{r4, r5, pc}
 607              	.LVL46:
 608              	.L42:
 609              	.LCFI14:
 610              		.cfi_restore_state
 185:../01_Applcation/Appl_Data/Appl_Data.c **** 
 611              		.loc 1 185 1 view .LVU168
 612 0024 0146     		mov	r1, r0
 168:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 613              		.loc 1 168 5 is_stmt 1 view .LVU169
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 17


 168:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 614              		.loc 1 168 8 is_stmt 0 view .LVU170
 615 0026 F92A     		cmp	r2, #249
 616 0028 2FD8     		bhi	.L40
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 617              		.loc 1 172 12 view .LVU171
 618 002a 0024     		movs	r4, #0
 619 002c 0AE0     		b	.L37
 620              	.LVL47:
 621              	.L38:
 174:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 622              		.loc 1 174 9 is_stmt 1 discriminator 3 view .LVU172
 174:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 623              		.loc 1 174 36 is_stmt 0 discriminator 3 view .LVU173
 624 002e 085D     		ldrb	r0, [r1, r4]	@ zero_extendqisi2
 174:../01_Applcation/Appl_Data/Appl_Data.c ****         send[i + 2] = data[i];
 625              		.loc 1 174 30 discriminator 3 view .LVU174
 626 0030 174B     		ldr	r3, .L43
 627 0032 2344     		add	r3, r3, r4
 628 0034 9871     		strb	r0, [r3, #6]
 175:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 629              		.loc 1 175 9 is_stmt 1 discriminator 3 view .LVU175
 175:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 630              		.loc 1 175 16 is_stmt 0 discriminator 3 view .LVU176
 631 0036 A31C     		adds	r3, r4, #2
 175:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 632              		.loc 1 175 27 discriminator 3 view .LVU177
 633 0038 11F804C0 		ldrb	ip, [r1, r4]	@ zero_extendqisi2
 175:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 634              		.loc 1 175 21 discriminator 3 view .LVU178
 635 003c 02A8     		add	r0, sp, #8
 636 003e 00F803C0 		strb	ip, [r0, r3]
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 637              		.loc 1 172 26 is_stmt 1 discriminator 3 view .LVU179
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 638              		.loc 1 172 27 is_stmt 0 discriminator 3 view .LVU180
 639 0042 0134     		adds	r4, r4, #1
 640              	.LVL48:
 641              	.L37:
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 642              		.loc 1 172 17 is_stmt 1 discriminator 1 view .LVU181
 172:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 643              		.loc 1 172 5 is_stmt 0 discriminator 1 view .LVU182
 644 0044 A242     		cmp	r2, r4
 645 0046 F2DC     		bgt	.L38
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 646              		.loc 1 177 5 is_stmt 1 view .LVU183
 177:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.HREG;
 647              		.loc 1 177 15 is_stmt 0 view .LVU184
 648 0048 1046     		mov	r0, r2
 649 004a FFF7FEFF 		bl	APPL_Data_RS485_CRC_Encode
 650              	.LVL49:
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 651              		.loc 1 178 5 is_stmt 1 view .LVU185
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 652              		.loc 1 178 24 is_stmt 0 view .LVU186
 653 004e 621C     		adds	r2, r4, #1
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 18


 654              	.LVL50:
 178:../01_Applcation/Appl_Data/Appl_Data.c ****     APPL_data.modsend[i++] = tmp.LREG;
 655              		.loc 1 178 28 view .LVU187
 656 0050 0F4B     		ldr	r3, .L43
 657 0052 1919     		adds	r1, r3, r4
 658 0054 8871     		strb	r0, [r1, #6]
 179:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 659              		.loc 1 179 5 is_stmt 1 view .LVU188
 660              	.LVL51:
 179:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_SET);
 661              		.loc 1 179 28 is_stmt 0 view .LVU189
 662 0056 1344     		add	r3, r3, r2
 663 0058 C0F30720 		ubfx	r0, r0, #8, #8
 664 005c 9871     		strb	r0, [r3, #6]
 180:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_I2C_Master_Transmit(&hi2c1, AT24AA02_Page0 << 1, send, i + 2, 100);
 665              		.loc 1 180 5 is_stmt 1 view .LVU190
 666 005e 0D4D     		ldr	r5, .L43+4
 667 0060 0122     		movs	r2, #1
 668 0062 1146     		mov	r1, r2
 669 0064 2846     		mov	r0, r5
 670 0066 FFF7FEFF 		bl	HAL_GPIO_WritePin
 671              	.LVL52:
 181:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 672              		.loc 1 181 5 view .LVU191
 181:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 673              		.loc 1 181 11 is_stmt 0 view .LVU192
 674 006a 0434     		adds	r4, r4, #4
 675              	.LVL53:
 181:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(I2C1_EN_GPIO_Port, I2C1_EN_Pin, GPIO_PIN_RESET);
 676              		.loc 1 181 11 view .LVU193
 677 006c 6423     		movs	r3, #100
 678 006e 0093     		str	r3, [sp]
 679 0070 A3B2     		uxth	r3, r4
 680 0072 02AA     		add	r2, sp, #8
 681 0074 A021     		movs	r1, #160
 682 0076 0848     		ldr	r0, .L43+8
 683 0078 FFF7FEFF 		bl	HAL_I2C_Master_Transmit
 684              	.LVL54:
 685 007c 0446     		mov	r4, r0
 686              	.LVL55:
 182:../01_Applcation/Appl_Data/Appl_Data.c **** 
 687              		.loc 1 182 5 is_stmt 1 view .LVU194
 688 007e 0022     		movs	r2, #0
 689 0080 0121     		movs	r1, #1
 690 0082 2846     		mov	r0, r5
 691 0084 FFF7FEFF 		bl	HAL_GPIO_WritePin
 692              	.LVL56:
 184:../01_Applcation/Appl_Data/Appl_Data.c **** }
 693              		.loc 1 184 5 view .LVU195
 184:../01_Applcation/Appl_Data/Appl_Data.c **** }
 694              		.loc 1 184 12 is_stmt 0 view .LVU196
 695 0088 C9E7     		b	.L36
 696              	.LVL57:
 697              	.L40:
 170:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 698              		.loc 1 170 16 view .LVU197
 699 008a 0124     		movs	r4, #1
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 19


 700 008c C7E7     		b	.L36
 701              	.L44:
 702 008e 00BF     		.align	2
 703              	.L43:
 704 0090 00000000 		.word	.LANCHOR1
 705 0094 00040048 		.word	1207960576
 706 0098 00000000 		.word	hi2c1
 707              		.cfi_endproc
 708              	.LFE294:
 710              		.section	.text.APPL_Data_RS485_CRC_Decode,"ax",%progbits
 711              		.align	1
 712              		.global	APPL_Data_RS485_CRC_Decode
 713              		.syntax unified
 714              		.thumb
 715              		.thumb_func
 717              	APPL_Data_RS485_CRC_Decode:
 718              	.LVL58:
 719              	.LFB297:
 258:../01_Applcation/Appl_Data/Appl_Data.c **** 
 259:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 260:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_CRC_Decode
 261:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 262:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 263:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 264:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 265:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 266:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 267:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 268:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 269:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_CRC_Decode(uint8_t *data, uint8_t len)
 270:../01_Applcation/Appl_Data/Appl_Data.c **** {
 720              		.loc 1 270 1 is_stmt 1 view -0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 0
 723              		@ frame_needed = 0, uses_anonymous_args = 0
 271:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 724              		.loc 1 271 5 view .LVU199
 272:../01_Applcation/Appl_Data/Appl_Data.c ****     EKM_16Bto8B_t tmp;
 725              		.loc 1 272 5 view .LVU200
 273:../01_Applcation/Appl_Data/Appl_Data.c ****     tmp.REG = 0xFFFF;
 726              		.loc 1 273 5 view .LVU201
 274:../01_Applcation/Appl_Data/Appl_Data.c ****     if (data == (void *)0)
 727              		.loc 1 274 5 view .LVU202
 728              		.loc 1 274 8 is_stmt 0 view .LVU203
 729 0000 90B3     		cbz	r0, .L53
 270:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 730              		.loc 1 270 1 view .LVU204
 731 0002 00B5     		push	{lr}
 732              	.LCFI15:
 733              		.cfi_def_cfa_offset 4
 734              		.cfi_offset 14, -4
 735 0004 4FF0FF33 		mov	r3, #-1	@ movhi
 736              	.LVL59:
 270:../01_Applcation/Appl_Data/Appl_Data.c ****     uint8_t pos = 0;
 737              		.loc 1 270 1 view .LVU205
 738 0008 8646     		mov	lr, r0
 275:../01_Applcation/Appl_Data/Appl_Data.c ****     {
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 20


 276:../01_Applcation/Appl_Data/Appl_Data.c ****         return HAL_ERROR;
 277:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     for (pos = 0; pos < (len - 2); pos++)
 739              		.loc 1 278 14 view .LVU206
 740 000a 4FF0000C 		mov	ip, #0
 741 000e 10E0     		b	.L47
 742              	.LVL60:
 743              	.L49:
 744              	.LBB4:
 279:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 280:../01_Applcation/Appl_Data/Appl_Data.c ****         // APPL_USB_printf("%02x ",data[pos]);
 281:../01_Applcation/Appl_Data/Appl_Data.c ****         tmp.REG ^= (uint16_t)data[pos]; // XOR byte into least sig. byte of crc
 282:../01_Applcation/Appl_Data/Appl_Data.c **** 
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         for (int i = 8; i != 0; i--)
 284:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 285:../01_Applcation/Appl_Data/Appl_Data.c ****             if ((tmp.REG & 0x0001) != 0)
 286:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 287:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG >>= 1; // Shift right and XOR 0xA001
 288:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG ^= 0xA001;
 289:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 290:../01_Applcation/Appl_Data/Appl_Data.c ****             else               // Else LSB is not set
 291:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG >>= 1; // Just shift right
 745              		.loc 1 291 17 is_stmt 1 view .LVU207
 746              		.loc 1 291 25 is_stmt 0 view .LVU208
 747 0010 C0F34F03 		ubfx	r3, r0, #1, #16
 748              	.LVL61:
 749              	.L50:
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 750              		.loc 1 283 33 is_stmt 1 discriminator 2 view .LVU209
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 751              		.loc 1 283 34 is_stmt 0 discriminator 2 view .LVU210
 752 0014 013A     		subs	r2, r2, #1
 753              	.LVL62:
 754              	.L48:
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 755              		.loc 1 283 25 is_stmt 1 discriminator 1 view .LVU211
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 756              		.loc 1 283 9 is_stmt 0 discriminator 1 view .LVU212
 757 0016 42B1     		cbz	r2, .L60
 285:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 758              		.loc 1 285 13 is_stmt 1 view .LVU213
 759              	.LVL63:
 285:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 760              		.loc 1 285 21 is_stmt 0 view .LVU214
 761 0018 98B2     		uxth	r0, r3
 285:../01_Applcation/Appl_Data/Appl_Data.c ****             {                  // If the LSB is set
 762              		.loc 1 285 16 view .LVU215
 763 001a 13F0010F 		tst	r3, #1
 764 001e F7D0     		beq	.L49
 287:../01_Applcation/Appl_Data/Appl_Data.c ****                 tmp.REG ^= 0xA001;
 765              		.loc 1 287 17 is_stmt 1 view .LVU216
 288:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 766              		.loc 1 288 17 view .LVU217
 288:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 767              		.loc 1 288 25 is_stmt 0 view .LVU218
 768 0020 4AF20103 		movw	r3, #40961
 769              	.LVL64:
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 21


 288:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 770              		.loc 1 288 25 view .LVU219
 771 0024 83EA5003 		eor	r3, r3, r0, lsr #1
 288:../01_Applcation/Appl_Data/Appl_Data.c ****             }
 772              		.loc 1 288 25 view .LVU220
 773 0028 F4E7     		b	.L50
 774              	.L60:
 775              	.LBE4:
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 776              		.loc 1 278 36 is_stmt 1 discriminator 2 view .LVU221
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 777              		.loc 1 278 39 is_stmt 0 discriminator 2 view .LVU222
 778 002a 0CF1010C 		add	ip, ip, #1
 779              	.LVL65:
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 780              		.loc 1 278 39 discriminator 2 view .LVU223
 781 002e 5FFA8CFC 		uxtb	ip, ip
 782              	.LVL66:
 783              	.L47:
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 784              		.loc 1 278 19 is_stmt 1 discriminator 1 view .LVU224
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 785              		.loc 1 278 30 is_stmt 0 discriminator 1 view .LVU225
 786 0032 8A1E     		subs	r2, r1, #2
 278:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 787              		.loc 1 278 5 discriminator 1 view .LVU226
 788 0034 9445     		cmp	ip, r2
 789 0036 04DA     		bge	.L61
 281:../01_Applcation/Appl_Data/Appl_Data.c **** 
 790              		.loc 1 281 9 is_stmt 1 view .LVU227
 281:../01_Applcation/Appl_Data/Appl_Data.c **** 
 791              		.loc 1 281 34 is_stmt 0 view .LVU228
 792 0038 1EF80C20 		ldrb	r2, [lr, ip]	@ zero_extendqisi2
 793              	.LVL67:
 281:../01_Applcation/Appl_Data/Appl_Data.c **** 
 794              		.loc 1 281 17 view .LVU229
 795 003c 5340     		eors	r3, r3, r2
 796              	.LVL68:
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 797              		.loc 1 283 9 is_stmt 1 view .LVU230
 798              	.LBB5:
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 799              		.loc 1 283 14 view .LVU231
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 800              		.loc 1 283 18 is_stmt 0 view .LVU232
 801 003e 0822     		movs	r2, #8
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 802              		.loc 1 283 9 view .LVU233
 803 0040 E9E7     		b	.L48
 804              	.LVL69:
 805              	.L61:
 283:../01_Applcation/Appl_Data/Appl_Data.c ****         { // Loop over each bit
 806              		.loc 1 283 9 view .LVU234
 807              	.LBE5:
 292:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 293:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     if ((data[len - 2] == tmp.HREG) && (data[len - 1] == tmp.LREG))
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 22


 808              		.loc 1 294 5 is_stmt 1 view .LVU235
 809              		.loc 1 294 14 is_stmt 0 view .LVU236
 810 0042 0EEB0102 		add	r2, lr, r1
 811 0046 12F8020C 		ldrb	r0, [r2, #-2]	@ zero_extendqisi2
 812              		.loc 1 294 30 view .LVU237
 813 004a DAB2     		uxtb	r2, r3
 814              		.loc 1 294 8 view .LVU238
 815 004c 9042     		cmp	r0, r2
 816 004e 02D0     		beq	.L62
 295:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 296:../01_Applcation/Appl_Data/Appl_Data.c ****         // APPL_USB_printf("REG %04x, %02x, %02x\r\n",tmp.REG,tmp.HREG,tmp.LREG);
 297:../01_Applcation/Appl_Data/Appl_Data.c ****         return 1;
 298:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 299:../01_Applcation/Appl_Data/Appl_Data.c ****     // Note, this number has low and high bytes swapped, so use it accordingly (or swap bytes)
 300:../01_Applcation/Appl_Data/Appl_Data.c ****     return 0;
 817              		.loc 1 300 12 view .LVU239
 818 0050 0020     		movs	r0, #0
 819              	.LVL70:
 820              	.L46:
 301:../01_Applcation/Appl_Data/Appl_Data.c **** }
 821              		.loc 1 301 1 view .LVU240
 822 0052 5DF804FB 		ldr	pc, [sp], #4
 823              	.LVL71:
 824              	.L62:
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 825              		.loc 1 294 45 discriminator 1 view .LVU241
 826 0056 7144     		add	r1, r1, lr
 827              	.LVL72:
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 828              		.loc 1 294 45 discriminator 1 view .LVU242
 829 0058 11F8012C 		ldrb	r2, [r1, #-1]	@ zero_extendqisi2
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 830              		.loc 1 294 61 discriminator 1 view .LVU243
 831 005c C3F30723 		ubfx	r3, r3, #8, #8
 294:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 832              		.loc 1 294 37 discriminator 1 view .LVU244
 833 0060 9A42     		cmp	r2, r3
 834 0062 03D0     		beq	.L55
 300:../01_Applcation/Appl_Data/Appl_Data.c **** }
 835              		.loc 1 300 12 view .LVU245
 836 0064 0020     		movs	r0, #0
 837 0066 F4E7     		b	.L46
 838              	.LVL73:
 839              	.L53:
 840              	.LCFI16:
 841              		.cfi_def_cfa_offset 0
 842              		.cfi_restore 14
 276:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 843              		.loc 1 276 16 view .LVU246
 844 0068 0120     		movs	r0, #1
 845              	.LVL74:
 846              		.loc 1 301 1 view .LVU247
 847 006a 7047     		bx	lr
 848              	.LVL75:
 849              	.L55:
 850              	.LCFI17:
 851              		.cfi_def_cfa_offset 4
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 23


 852              		.cfi_offset 14, -4
 297:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 853              		.loc 1 297 16 view .LVU248
 854 006c 0120     		movs	r0, #1
 855 006e F0E7     		b	.L46
 856              		.cfi_endproc
 857              	.LFE297:
 859              		.section	.text.APPL_Data_RS485_Send,"ax",%progbits
 860              		.align	1
 861              		.global	APPL_Data_RS485_Send
 862              		.syntax unified
 863              		.thumb
 864              		.thumb_func
 866              	APPL_Data_RS485_Send:
 867              	.LFB298:
 302:../01_Applcation/Appl_Data/Appl_Data.c **** 
 303:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 304:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_Send
 305:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 306:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 307:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 308:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 309:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 310:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 311:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 312:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 313:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Send(void)
 314:../01_Applcation/Appl_Data/Appl_Data.c **** {
 868              		.loc 1 314 1 is_stmt 1 view -0
 869              		.cfi_startproc
 870              		@ args = 0, pretend = 0, frame = 0
 871              		@ frame_needed = 0, uses_anonymous_args = 0
 872 0000 10B5     		push	{r4, lr}
 873              	.LCFI18:
 874              		.cfi_def_cfa_offset 8
 875              		.cfi_offset 4, -8
 876              		.cfi_offset 14, -4
 315:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_StatusTypeDef ret;
 877              		.loc 1 315 5 view .LVU250
 316:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_SET);
 878              		.loc 1 316 5 view .LVU251
 879 0002 0122     		movs	r2, #1
 880 0004 0221     		movs	r1, #2
 881 0006 4FF09040 		mov	r0, #1207959552
 882 000a FFF7FEFF 		bl	HAL_GPIO_WritePin
 883              	.LVL76:
 317:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_Delay(1);
 884              		.loc 1 317 5 view .LVU252
 885 000e 0120     		movs	r0, #1
 886 0010 FFF7FEFF 		bl	HAL_Delay
 887              	.LVL77:
 318:../01_Applcation/Appl_Data/Appl_Data.c ****     ret = HAL_UART_Transmit(&huart2, APPL_data.modsend, APPL_data.modbus_size, 100);
 888              		.loc 1 318 5 view .LVU253
 889              		.loc 1 318 66 is_stmt 0 view .LVU254
 890 0014 0849     		ldr	r1, .L65
 891              		.loc 1 318 11 view .LVU255
 892 0016 6423     		movs	r3, #100
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 24


 893 0018 91F80521 		ldrb	r2, [r1, #261]	@ zero_extendqisi2
 894 001c 0631     		adds	r1, r1, #6
 895 001e 0748     		ldr	r0, .L65+4
 896 0020 FFF7FEFF 		bl	HAL_UART_Transmit
 897              	.LVL78:
 898 0024 0446     		mov	r4, r0
 899              	.LVL79:
 319:../01_Applcation/Appl_Data/Appl_Data.c ****     HAL_GPIO_WritePin(USART2_EN_GPIO_Port, USART2_EN_Pin, GPIO_PIN_RESET);
 900              		.loc 1 319 5 is_stmt 1 view .LVU256
 901 0026 0022     		movs	r2, #0
 902 0028 0221     		movs	r1, #2
 903 002a 4FF09040 		mov	r0, #1207959552
 904 002e FFF7FEFF 		bl	HAL_GPIO_WritePin
 905              	.LVL80:
 320:../01_Applcation/Appl_Data/Appl_Data.c ****     return ret;
 906              		.loc 1 320 5 view .LVU257
 321:../01_Applcation/Appl_Data/Appl_Data.c **** }
 907              		.loc 1 321 1 is_stmt 0 view .LVU258
 908 0032 2046     		mov	r0, r4
 909 0034 10BD     		pop	{r4, pc}
 910              	.LVL81:
 911              	.L66:
 912              		.loc 1 321 1 view .LVU259
 913 0036 00BF     		.align	2
 914              	.L65:
 915 0038 00000000 		.word	.LANCHOR1
 916 003c 00000000 		.word	huart2
 917              		.cfi_endproc
 918              	.LFE298:
 920              		.section	.text.APPL_Data_RS485_Set,"ax",%progbits
 921              		.align	1
 922              		.global	APPL_Data_RS485_Set
 923              		.syntax unified
 924              		.thumb
 925              		.thumb_func
 927              	APPL_Data_RS485_Set:
 928              	.LVL82:
 929              	.LFB299:
 322:../01_Applcation/Appl_Data/Appl_Data.c **** 
 323:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 324:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_RS485_Set
 325:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 326:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 327:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 328:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 329:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 330:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 331:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 332:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 333:../01_Applcation/Appl_Data/Appl_Data.c **** uint8_t APPL_Data_RS485_Set(uint8_t data)
 334:../01_Applcation/Appl_Data/Appl_Data.c **** {
 930              		.loc 1 334 1 is_stmt 1 view -0
 931              		.cfi_startproc
 932              		@ args = 0, pretend = 0, frame = 0
 933              		@ frame_needed = 0, uses_anonymous_args = 0
 934              		.loc 1 334 1 is_stmt 0 view .LVU261
 935 0000 08B5     		push	{r3, lr}
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 25


 936              	.LCFI19:
 937              		.cfi_def_cfa_offset 8
 938              		.cfi_offset 3, -8
 939              		.cfi_offset 14, -4
 335:../01_Applcation/Appl_Data/Appl_Data.c ****     if (APPL_Data_RS485_Buffer_pointer < APPL_Data_RS485_Buffer_Size)
 940              		.loc 1 335 5 is_stmt 1 view .LVU262
 941              		.loc 1 335 40 is_stmt 0 view .LVU263
 942 0002 094B     		ldr	r3, .L71
 943 0004 1B78     		ldrb	r3, [r3]	@ zero_extendqisi2
 944              		.loc 1 335 8 view .LVU264
 945 0006 FF2B     		cmp	r3, #255
 946 0008 06D0     		beq	.L68
 336:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 337:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer[APPL_Data_RS485_Buffer_pointer++] = data;
 947              		.loc 1 337 9 is_stmt 1 view .LVU265
 948              		.loc 1 337 62 is_stmt 0 view .LVU266
 949 000a 591C     		adds	r1, r3, #1
 950 000c 064A     		ldr	r2, .L71
 951 000e 1170     		strb	r1, [r2]
 952              		.loc 1 337 66 view .LVU267
 953 0010 064A     		ldr	r2, .L71+4
 954 0012 D054     		strb	r0, [r2, r3]
 955              	.LVL83:
 956              	.L69:
 338:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 339:../01_Applcation/Appl_Data/Appl_Data.c ****     else
 340:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 341:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer_pointer = 0;
 342:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 343:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 344:../01_Applcation/Appl_Data/Appl_Data.c ****     return 0;
 957              		.loc 1 344 5 is_stmt 1 view .LVU268
 345:../01_Applcation/Appl_Data/Appl_Data.c **** }
 958              		.loc 1 345 1 is_stmt 0 view .LVU269
 959 0014 0020     		movs	r0, #0
 960 0016 08BD     		pop	{r3, pc}
 961              	.LVL84:
 962              	.L68:
 341:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 963              		.loc 1 341 9 is_stmt 1 view .LVU270
 341:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 964              		.loc 1 341 40 is_stmt 0 view .LVU271
 965 0018 0021     		movs	r1, #0
 966 001a 034B     		ldr	r3, .L71
 967 001c 1970     		strb	r1, [r3]
 342:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 968              		.loc 1 342 9 is_stmt 1 view .LVU272
 969 001e FF22     		movs	r2, #255
 970 0020 0248     		ldr	r0, .L71+4
 971              	.LVL85:
 342:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 972              		.loc 1 342 9 is_stmt 0 view .LVU273
 973 0022 FFF7FEFF 		bl	memset
 974              	.LVL86:
 975 0026 F5E7     		b	.L69
 976              	.L72:
 977              		.align	2
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 26


 978              	.L71:
 979 0028 00000000 		.word	.LANCHOR2
 980 002c 00000000 		.word	.LANCHOR0
 981              		.cfi_endproc
 982              	.LFE299:
 984              		.section	.rodata.APPL_Data_MODBUS_Task.str1.4,"aMS",%progbits,1
 985              		.align	2
 986              	.LC0:
 987 0000 4D4F4442 		.ascii	"MODBUS\000"
 987      555300
 988              		.section	.text.APPL_Data_MODBUS_Task,"ax",%progbits
 989              		.align	1
 990              		.global	APPL_Data_MODBUS_Task
 991              		.syntax unified
 992              		.thumb
 993              		.thumb_func
 995              	APPL_Data_MODBUS_Task:
 996              	.LFB300:
 346:../01_Applcation/Appl_Data/Appl_Data.c **** 
 347:../01_Applcation/Appl_Data/Appl_Data.c **** /*******************************************************************************
 348:../01_Applcation/Appl_Data/Appl_Data.c ****  * Function: APPL_Data_MODBUS_Task
 349:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 350:../01_Applcation/Appl_Data/Appl_Data.c ****  * Parameters:      -
 351:../01_Applcation/Appl_Data/Appl_Data.c ****  * Returned value:  -
 352:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 353:../01_Applcation/Appl_Data/Appl_Data.c ****  * Description:
 354:../01_Applcation/Appl_Data/Appl_Data.c ****  *
 355:../01_Applcation/Appl_Data/Appl_Data.c ****  * Calling:
 356:../01_Applcation/Appl_Data/Appl_Data.c ****  ******************************************************************************/
 357:../01_Applcation/Appl_Data/Appl_Data.c **** void APPL_Data_MODBUS_Task(void)
 358:../01_Applcation/Appl_Data/Appl_Data.c **** {
 997              		.loc 1 358 1 is_stmt 1 view -0
 998              		.cfi_startproc
 999              		@ args = 0, pretend = 0, frame = 0
 1000              		@ frame_needed = 0, uses_anonymous_args = 0
 1001 0000 38B5     		push	{r3, r4, r5, lr}
 1002              	.LCFI20:
 1003              		.cfi_def_cfa_offset 16
 1004              		.cfi_offset 3, -16
 1005              		.cfi_offset 4, -12
 1006              		.cfi_offset 5, -8
 1007              		.cfi_offset 14, -4
 359:../01_Applcation/Appl_Data/Appl_Data.c ****     if (APPL_Data_RS485_CRC_Decode(APPL_Data_RS485_Buffer, APPL_Data_RS485_Buffer_pointer))
 1008              		.loc 1 359 5 view .LVU275
 1009              		.loc 1 359 9 is_stmt 0 view .LVU276
 1010 0002 0B4B     		ldr	r3, .L77
 1011 0004 1C78     		ldrb	r4, [r3]	@ zero_extendqisi2
 1012 0006 2146     		mov	r1, r4
 1013 0008 0A48     		ldr	r0, .L77+4
 1014 000a FFF7FEFF 		bl	APPL_Data_RS485_CRC_Decode
 1015              	.LVL87:
 1016              		.loc 1 359 8 view .LVU277
 1017 000e 00B9     		cbnz	r0, .L76
 1018              	.L73:
 360:../01_Applcation/Appl_Data/Appl_Data.c ****     {
 361:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_DMA_LTE_MQTT_PUBLISH_Raw("MODBUS", APPL_Data_RS485_Buffer,APPL_Data_RS485_Buffer_point
 362:../01_Applcation/Appl_Data/Appl_Data.c ****         /*
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 27


 363:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_USB_printf("RS485: ");
 364:../01_Applcation/Appl_Data/Appl_Data.c ****         for(int i = 0;i<APPL_Data_RS485_Buffer_pointer;i++){
 365:../01_Applcation/Appl_Data/Appl_Data.c ****             APPL_USB_printf("%02x ",APPL_Data_RS485_Buffer[i]);
 366:../01_Applcation/Appl_Data/Appl_Data.c ****         }
 367:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_USB_printf("\r\n");
 368:../01_Applcation/Appl_Data/Appl_Data.c ****         //*/
 369:../01_Applcation/Appl_Data/Appl_Data.c ****         APPL_Data_RS485_Buffer_pointer = 0;
 370:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 371:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 372:../01_Applcation/Appl_Data/Appl_Data.c **** }
 1019              		.loc 1 372 1 view .LVU278
 1020 0010 38BD     		pop	{r3, r4, r5, pc}
 1021              	.L76:
 361:../01_Applcation/Appl_Data/Appl_Data.c ****         /*
 1022              		.loc 1 361 9 is_stmt 1 view .LVU279
 1023 0012 084D     		ldr	r5, .L77+4
 1024 0014 2246     		mov	r2, r4
 1025 0016 2946     		mov	r1, r5
 1026 0018 0748     		ldr	r0, .L77+8
 1027 001a FFF7FEFF 		bl	APPL_DMA_LTE_MQTT_PUBLISH_Raw
 1028              	.LVL88:
 369:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 1029              		.loc 1 369 9 view .LVU280
 369:../01_Applcation/Appl_Data/Appl_Data.c ****         memset(APPL_Data_RS485_Buffer, 0, APPL_Data_RS485_Buffer_Size);
 1030              		.loc 1 369 40 is_stmt 0 view .LVU281
 1031 001e 0021     		movs	r1, #0
 1032 0020 034B     		ldr	r3, .L77
 1033 0022 1970     		strb	r1, [r3]
 370:../01_Applcation/Appl_Data/Appl_Data.c ****     }
 1034              		.loc 1 370 9 is_stmt 1 view .LVU282
 1035 0024 FF22     		movs	r2, #255
 1036 0026 2846     		mov	r0, r5
 1037 0028 FFF7FEFF 		bl	memset
 1038              	.LVL89:
 1039              		.loc 1 372 1 is_stmt 0 view .LVU283
 1040 002c F0E7     		b	.L73
 1041              	.L78:
 1042 002e 00BF     		.align	2
 1043              	.L77:
 1044 0030 00000000 		.word	.LANCHOR2
 1045 0034 00000000 		.word	.LANCHOR0
 1046 0038 00000000 		.word	.LC0
 1047              		.cfi_endproc
 1048              	.LFE300:
 1050              		.global	APPL_data
 1051              		.global	APPL_Data_RS485_Buffer_pointer
 1052              		.global	APPL_Data_RS485_Buffer
 1053              		.section	.bss.APPL_Data_RS485_Buffer,"aw",%nobits
 1054              		.align	2
 1055              		.set	.LANCHOR0,. + 0
 1058              	APPL_Data_RS485_Buffer:
 1059 0000 00000000 		.space	255
 1059      00000000 
 1059      00000000 
 1059      00000000 
 1059      00000000 
 1060              		.section	.bss.APPL_Data_RS485_Buffer_pointer,"aw",%nobits
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 28


 1061              		.set	.LANCHOR2,. + 0
 1064              	APPL_Data_RS485_Buffer_pointer:
 1065 0000 00       		.space	1
 1066              		.section	.bss.APPL_data,"aw",%nobits
 1067              		.align	2
 1068              		.set	.LANCHOR1,. + 0
 1071              	APPL_data:
 1072 0000 00000000 		.space	262
 1072      00000000 
 1072      00000000 
 1072      00000000 
 1072      00000000 
 1073              		.text
 1074              	.Letext0:
 1075              		.file 2 "c:\\gnuarm\\arm-none-eabi\\include\\machine\\_default_types.h"
 1076              		.file 3 "c:\\gnuarm\\arm-none-eabi\\include\\sys\\_stdint.h"
 1077              		.file 4 "../03_Drivers/CMSIS/Device/ST/STM32L4xx/Include/stm32l432xx.h"
 1078              		.file 5 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_def.h"
 1079              		.file 6 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_gpio.h"
 1080              		.file 7 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_dma.h"
 1081              		.file 8 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_i2c.h"
 1082              		.file 9 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal_uart.h"
 1083              		.file 10 "../02_OS/Core_UART/usart.h"
 1084              		.file 11 "../02_OS/Core_I2C/i2c.h"
 1085              		.file 12 "../02_OS/EKM_Buffer/EKM_Buffer.h"
 1086              		.file 13 "../01_Applcation/Appl_Data/Appl_Data.h"
 1087              		.file 14 "../01_Applcation/APPL_DMA_LTE/APPL_DMA_LTE.h"
 1088              		.file 15 "../03_Drivers/STM32L4xx_HAL_Driver/Inc/stm32l4xx_hal.h"
 1089              		.file 16 "<built-in>"
ARM GAS  C:\Users\minde\AppData\Local\Temp\ccrN42iN.s 			page 29


DEFINED SYMBOLS
                            *ABS*:00000000 Appl_Data.c
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:20     .text.APPL_Data_Init:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:26     .text.APPL_Data_Init:00000000 APPL_Data_Init
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:100    .text.APPL_Data_Init:0000004c $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:106    .text.APPL_Data_ID_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:112    .text.APPL_Data_ID_Set:00000000 APPL_Data_ID_Set
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:189    .text.APPL_Data_ID_Set:00000048 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:196    .text.APPL_Data_ID_Get:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:202    .text.APPL_Data_ID_Get:00000000 APPL_Data_ID_Get
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:305    .text.APPL_Data_ID_Get:00000078 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:312    .text.APPL_Data_MODBUS_Get:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:318    .text.APPL_Data_MODBUS_Get:00000000 APPL_Data_MODBUS_Get
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:437    .text.APPL_Data_MODBUS_Get:00000080 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:444    .text.APPL_Data_RS485_CRC_Encode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:450    .text.APPL_Data_RS485_CRC_Encode:00000000 APPL_Data_RS485_CRC_Encode
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:548    .text.APPL_Data_MODBUS_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:554    .text.APPL_Data_MODBUS_Set:00000000 APPL_Data_MODBUS_Set
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:704    .text.APPL_Data_MODBUS_Set:00000090 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:711    .text.APPL_Data_RS485_CRC_Decode:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:717    .text.APPL_Data_RS485_CRC_Decode:00000000 APPL_Data_RS485_CRC_Decode
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:860    .text.APPL_Data_RS485_Send:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:866    .text.APPL_Data_RS485_Send:00000000 APPL_Data_RS485_Send
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:915    .text.APPL_Data_RS485_Send:00000038 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:921    .text.APPL_Data_RS485_Set:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:927    .text.APPL_Data_RS485_Set:00000000 APPL_Data_RS485_Set
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:979    .text.APPL_Data_RS485_Set:00000028 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:985    .rodata.APPL_Data_MODBUS_Task.str1.4:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:989    .text.APPL_Data_MODBUS_Task:00000000 $t
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:995    .text.APPL_Data_MODBUS_Task:00000000 APPL_Data_MODBUS_Task
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1044   .text.APPL_Data_MODBUS_Task:00000030 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1071   .bss.APPL_data:00000000 APPL_data
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1064   .bss.APPL_Data_RS485_Buffer_pointer:00000000 APPL_Data_RS485_Buffer_pointer
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1058   .bss.APPL_Data_RS485_Buffer:00000000 APPL_Data_RS485_Buffer
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1054   .bss.APPL_Data_RS485_Buffer:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1065   .bss.APPL_Data_RS485_Buffer_pointer:00000000 $d
C:\Users\minde\AppData\Local\Temp\ccrN42iN.s:1067   .bss.APPL_data:00000000 $d

UNDEFINED SYMBOLS
HAL_GPIO_WritePin
memset
HAL_I2C_Master_Transmit
hi2c1
HAL_I2C_Master_Receive
HAL_Delay
HAL_UART_Transmit
huart2
APPL_DMA_LTE_MQTT_PUBLISH_Raw
